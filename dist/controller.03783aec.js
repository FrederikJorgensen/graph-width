parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"GPV5":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(){function t(r,n,a){e(this,t),this.createChapter=r,this.name=n,this.isActive=a}return r(t,[{key:"create",value:function(){this.createChapter()}}]),t}();exports.default=n;
},{}],"QKq2":[function(require,module,exports) {
"use strict";function t(t,n,e,i,r,o,a){try{var s=t[o](a),c=s.value}catch(u){return void e(u)}s.done?n(c):Promise.resolve(c).then(i,r)}function n(n){return function(){var e=this,i=arguments;return new Promise(function(r,o){var a=n.apply(e,i);function s(n){t(a,r,o,s,c,"next",n)}function c(n){t(a,r,o,s,c,"throw",n)}s(void 0)})}}function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,n,e){return n&&i(t.prototype,n),e&&i(t,e),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=function(){function t(n){e(this,t),this.title=n,this.draw(),this.setTitle(this.title),this.addContentArea()}return r(t,[{key:"clear",value:function(){d3.selectAll(".button-container").remove(),d3.select(".quiz").remove(),this.exerciseContainer&&this.exerciseContainer.remove()}},{key:"addExercise",value:function(t){var n=this.contentContainer.append("div").attr("class","exercise-box");this.exerciseContainer=n;var e=this.exerciseContainer.append("div").html('<strong class="exercise-title">Exercise:</strong> '.concat(t));this.exerciseContent=e}},{key:"removeCorrectness",value:function(){this.correctness&&this.correctness.remove()}},{key:"addCorrectness",value:function(){var t=this.choices.append("div").style("height","0px").attr("class","correctness");this.correctness=t}},{key:"toggleSolution",value:function(){this.isSolutionShowing?(this.solutionButton.text("Show Solution"),this.isSolutionShowing=!1,this.solutionTextContainer.text(null),this.solutionTextContainer.transition().duration(100).style("height","0px")):(this.solutionButton.text("Hide Solution"),this.isSolutionShowing=!0,this.solutionTextContainer.transition().duration(100).style("height","40px"),this.solutionTextContainer.text(this.solutionText))}},{key:"checkAnswer",value:function(){var t=n(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.removeCorrectness(),this.addCorrectness(),t.next=4,this.correctness.transition().duration(350).style("height","40px").style("fill","blue").end();case 4:n===this.correctAnswer?this.correctness.text("Correct!").append("span").text("check").attr("class","material-icons correct-answer"):this.correctness.text("Incorrect.").append("span").text("clear").attr("class","material-icons wrong-answer");case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}()},{key:"addSubmitButton",value:function(){var t=this,n=this.quiz.append("div").attr("class","submit-container");this.submitContainer=n;var e=this.submitContainer.append("button").text("submit").attr("class","pure-material-button-contained").on("click",function(){return t.checkAnswer(t.currentGuess)});this.submitButton=e}},{key:"createSolutionContainer",value:function(){var t=this.quiz.append("div").attr("class","solution-text");this.solutionTextContainer=t}},{key:"addSolutionButton",value:function(){var t=this,n=this.quiz.append("div").attr("class","solution-container");this.solutionButtonContainer=n,this.createSolutionContainer();var e=this.solutionButtonContainer.append("button").text("Show Solution").attr("class","pure-material-button-contained").attr("id","solution-button").on("click",function(){return t.toggleSolution()});this.solutionButton=e}},{key:"addQuiz",value:function(){var t=this.contentContainer.append("div").attr("class","quiz");this.quiz=t;var n=this.quiz.append("div").attr("class","choices");this.choices=n,this.addSubmitButton(),this.addSolutionButton()}},{key:"addChoice",value:function(t,n){var e=this;n&&(this.correctAnswer=t);var i=this.choices.append("label").attr("class","choice").attr("id",this.currentId++);i.append("input").attr("type","radio").attr("name","radio"),i.append("text").text(t).attr("class","choice-text"),i.on("click",function(){e.currentGuess=t})}},{key:"addSolution",value:function(t){this.solutionText=t}},{key:"addButton",value:function(t,n){var e=this.contentContainer.append("div").attr("class","button-container").append("g").datum(this);this.buttonContainer=e,this.buttonContainer.append("button").text(t).attr("class","pure-material-button-contained").on("click",function(){n()})}},{key:"setTitle",value:function(t){this.sidebarContainer.append("h2").text(t).attr("class","chapter-title"),this.sidebarContainer.append("hr")}},{key:"addHandler",value:function(t){this.sectionHandler=t}},{key:"draw",value:function(){var t=d3.select("#center-container").append("div").attr("class","sidebar");this.sidebarContainer=t}},{key:"addProgresBar",value:function(){var t=this,n=this.sectionHandler.sections;this.sections=n,this.progressBarContainer=this.sidebarContainer.append("div").attr("class","progress-bar-container"),this.progressBarContainer.append("span").attr("class","material-icons nav-arrows").text("keyboard_arrow_left").on("click",function(){return t.sectionHandler.goPreviousSection()});var e=100/n.length;this.progressBarContainer.selectAll("div").data(n).join(function(n){return n.append("div").attr("class",function(t){return t.isActive?"progress-item-active":"progress-item"}).style("width","".concat(e,"%")).on("click",function(n){return t.sectionHandler.goToSection(n)})},function(t){return t},function(t){return t.remove()}),this.progressBarContainer.append("span").attr("class","material-icons nav-arrows").text("keyboard_arrow_right").on("click",function(){return t.sectionHandler.goNextSection()})}},{key:"updateProgressBar",value:function(){this.progressBarContainer&&this.progressBarContainer.selectAll("div").data(this.sections).join(function(t){return t},function(t){return t.attr("class",function(t){return t.isActive?"progress-item-active":"progress-item"})},function(t){return t.remove()})}},{key:"addNavButtons",value:function(){var t=this,n=this.sidebarContainer.append("div").attr("class","nav-buttons-container");this.navButtonsContainer=n,this.navButtonsContainer.append("span").attr("class","material-icons nav-arrows").text("keyboard_arrow_left").on("click",function(){return t.sectionHandler.goPreviousSection()}),this.navButtonsContainer.append("span").attr("class","material-icons nav-arrows").text("keyboard_arrow_right").on("click",function(){return t.sectionHandler.goNextSection()})}},{key:"addContentArea",value:function(){var t=this.sidebarContainer.append("div").attr("class","content-container");this.contentContainer=t;var n=this.contentContainer.append("div").attr("class","content");this.content=n}},{key:"addContent",value:function(t){this.content.html(t)}}]),t}();exports.default=o;
},{}],"aBeB":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=function(){function t(n,r,o){e(this,t),this.createSection=n,this.chapter=r,this.isActive=o}return n(t,[{key:"create",value:function(){this.createSection(),renderMathInElement(document.body)}}]),t}();exports.default=r;
},{}],"jR25":[function(require,module,exports) {
"use strict";function r(r,t){var n;if("undefined"==typeof Symbol||null==r[Symbol.iterator]){if(Array.isArray(r)||(n=l(r))||t&&r&&"number"==typeof r.length){n&&(r=n);var e=0,o=function(){};return{s:o,n:function(){return e>=r.length?{done:!0}:{done:!1,value:r[e++]}},e:function(r){throw r},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){n=r[Symbol.iterator]()},n:function(){var r=n.next();return i=r.done,r},e:function(r){u=!0,a=r},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw a}}}}function t(r){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function n(r,t,n,e,o,a,i){try{var u=r[a](i),f=u.value}catch(c){return void n(c)}u.done?t(f):Promise.resolve(f).then(e,o)}function e(r){return function(){var t=this,e=arguments;return new Promise(function(o,a){var i=r.apply(t,e);function u(r){n(i,o,a,u,f,"next",r)}function f(r){n(i,o,a,u,f,"throw",r)}u(void 0)})}}function o(r){return u(r)||i(r)||l(r)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}function u(r){if(Array.isArray(r))return s(r)}function f(r,t){return p(r)||y(r,t)||l(r,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(r,t){if(r){if("string"==typeof r)return s(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(r,t):void 0}}function s(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,e=new Array(t);n<t;n++)e[n]=r[n];return e}function y(r,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r)){var n=[],e=!0,o=!1,a=void 0;try{for(var i,u=r[Symbol.iterator]();!(e=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);e=!0);}catch(f){o=!0,a=f}finally{try{e||null==u.return||u.return()}finally{if(o)throw a}}return n}}function p(r){if(Array.isArray(r))return r}function v(r,t){var n=r*(r-1)/2;if(!(r<0||t<0||t>n)){for(var e={nodes:[],links:[]},o=0;o<r;o++)e.nodes[o]={id:o+1,label:o+1};for(var a,i,u,c,l={},s=0;s<t;s++){var y=(a=s,i=n,Math.floor(Math.random()*(i-a)+a));s in l||(l[s]=s),y in l||(l[y]=y);var p=[l[y],l[s]];l[s]=p[0],l[y]=p[1]}for(var v=0;v<t;v++){var d=f((u=l[v],c=void 0,c=Math.floor((-1+Math.sqrt(1+8*u))/2),[u-c*(1+c)/2,c*(3+c)/2-u]),2),m=d[0],b=d[1],h=e.nodes[m],g=e.nodes[r-1-b];e.links.push({source:h,target:g})}return e}}function d(r){if(!(r.length<2))return r.length<3?d3.polygonHull([r[0]].concat(o(r))):d3.polygonHull(r)}function m(r){return b.apply(this,arguments)}function b(){return(b=e(regeneratorRuntime.mark(function r(t){var n,e;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(t);case 2:return n=r.sent,r.next=5,n.text();case 5:e=r.sent,window.n=e.split("\n");case 7:case"end":return r.stop()}},r)}))).apply(this,arguments)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=v,exports.hull=d,exports.readLocalFile=m,exports.deepClone=g,exports.compareMaps=S,exports.getAllSubsets=void 0;var h=function(r){return r.reduce(function(r,t){return r.concat(r.map(function(r){return[t].concat(o(r))}))},[[]])};function g(n){if(!n||1==n)return n;var e=t(n);if("number"==e||"string"==e)return n;var o=Array.isArray(n)?[]:n.constructor?new n.constructor:{};if(n instanceof Map){var a,i=r(n.keys());try{for(i.s();!(a=i.n()).done;){var u=a.value;o.set(u,g(n.get(u)))}}catch(f){i.e(f)}finally{i.f()}}for(var u in n)n.hasOwnProperty(u)&&(o[u]=g(n[u]));return o}function S(t,n){var e;if(t.size!==n.size)return!1;var o,a=r(t);try{for(a.s();!(o=a.n()).done;){var i=f(o.value,2),u=i[0],c=i[1];if((e=n.get(u))!==c||void 0===e&&!n.has(u))return!1}}catch(l){a.e(l)}finally{a.f()}return!0}exports.getAllSubsets=h;
},{}],"uXQf":[function(require,module,exports) {
"use strict";function r(r,t,e,n,o,a,i){try{var s=r[a](i),u=s.value}catch(c){return void e(c)}s.done?t(u):Promise.resolve(u).then(n,o)}function t(t){return function(){var e=this,n=arguments;return new Promise(function(o,a){var i=t.apply(e,n);function s(t){r(i,o,a,s,u,"next",t)}function u(t){r(i,o,a,s,u,"throw",t)}s(void 0)})}}function e(r,t){var e;if("undefined"==typeof Symbol||null==r[Symbol.iterator]){if(Array.isArray(r)||(e=n(r))||t&&r&&"number"==typeof r.length){e&&(r=e);var o=0,a=function(){};return{s:a,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(r){throw r},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){e=r[Symbol.iterator]()},n:function(){var r=e.next();return s=r.done,r},e:function(r){u=!0,i=r},f:function(){try{s||null==e.return||e.return()}finally{if(u)throw i}}}}function n(r,t){if(r){if("string"==typeof r)return o(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(r,t):void 0}}function o(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function a(r){r.pop();for(var t=[],e=[],n={},o=0;o<r.length;o++){var a=r[o],i="",s=[];if(a.startsWith("b")){var u=a.split(" "),c=parseInt(u[1],10);u.shift(),u.shift();for(var l=0;l<u.length;l++){i+="".concat(u[l]," ");var f=parseInt(u[l],10);s.push(f)}i="".concat(i),t.push({id:c,label:i,vertices:s})}else{var p=a.split(" ");e.push({source:p[0],target:p[1]})}}return n.nodes=t,n.links=e,n}function i(r){for(var t,n=[],o={},a={},i=0;i<r.length;i++){var s=r[i],u=s.split(" "),c="",l=void 0;if(s.startsWith("root")){t=parseInt(r[i+1],10);break}if(s.startsWith("b")){l=parseInt(u[1],10);for(var f=[],p=2;p<u.length;p++){c+="".concat(u[p],",");var v=parseInt(u[p],10);f.push(v)}c=c.replace(/,\s*$/,""),o[l]=c,a[l]=f}else{var h=parseInt(u[0],10),d=parseInt(u[1],10),y=[];y.push(h,d),n.push(y)}}return function r(t,n){for(var i=[],s=0;s<n.length;s++){var u=n[s].indexOf(t);-1!==u&&(i.push(n[s][Number(!u)]),n.splice(s,1),s--)}var c={id:parseInt(t,10),label:o[t],vertices:a[t],liss:0};if(0!==i.length){c.children=[];var l,f=e(i);try{for(f.s();!(l=f.n()).done;){var p=l.value;c.children.push(r(p,n))}}catch(v){f.e(v)}finally{f.f()}}return c}(t,n)}function s(r){return u.apply(this,arguments)}function u(){return(u=t(regeneratorRuntime.mark(function r(t){var e,n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(t);case 2:return e=r.sent,r.next=5,e.text();case 5:return n=r.sent,r.abrupt("return",n.split("\n"));case 7:case"end":return r.stop()}},r)}))).apply(this,arguments)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.readTreeDecomposition=a,exports.readNiceTreeDecomposition=i,exports.readLocalTreeFile=s;
},{}],"cEaq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.contextMenu=void 0;var e=function(e){return[{title:"Set Value",action:function(e,t,r){var o=prompt("Value:");t.label=o;var n=o.split(","),a=[];n.forEach(function(e){var t=parseInt(e,10);a.push(t)}),t.vertices=a,t.graph.restart()}},{title:"Delete Node",action:function(e,t,r){t.graph.removeNode(t)}}]};exports.contextMenu=e;
},{}],"MGpL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.resetStyles=O,exports.default=void 0;var e=s(require("../Utilities/helpers.js")),t=i(require("../Utilities/readTree.js")),n=require("./ContextMenu.js");function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,t&&t.set(e,n),n}function s(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){var e=c(["Maximum Independent Set = ( { "," } )"],["Maximum Independent Set = \\( \\{ "," \\} \\)"]);return o=function(){return e},e}function c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=y(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw s}}}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function f(e,t,n,r,i,s,a){try{var o=e[s](a),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var s=e.apply(t,n);function a(e){f(s,r,i,a,o,"next",e)}function o(e){f(s,r,i,a,o,"throw",e)}a(void 0)})}}function v(e){return k(e)||m(e)||y(e)||g()}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function m(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function k(e){if(Array.isArray(e))return x(e)}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=d3.scaleOrdinal(d3.schemeCategory10);function w(e){if(!(e.length<2))return e.length<3?d3.polygonHull([e[0]].concat(v(e))):d3.polygonHull(e)}function N(e,t){for(var n=[],r=1;r<1<<e.length;r++){for(var i=[],s=0;s<e.length;s++)r&1<<s&&i.push(e[s]);i.length===t&&n.push(i)}return n}function S(e){d3.select("#graph-node-".concat(e)).transition().duration(200).style("fill","orange")}function A(e){d3.select("#graph-node-".concat(e)).transition().duration(200).style("fill","#1f77b4")}function E(e){return new Promise(function(t){return setTimeout(t,e)})}function T(e,t){return D.apply(this,arguments)}function D(){return(D=p(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=p(regeneratorRuntime.mark(function e(r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<5)){e.next=9;break}return d3.selectAll("circle").filter(function(e){return t.includes(e)}).transition().duration(200).style("fill","orange").transition().duration(200).style("fill","#1f77b4"),i++,e.next=6,E(n);case 6:4===i&&r(),e.next=1;break;case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var C=function(e){return e.reduce(function(e,t){return e.concat(e.map(function(e){return[t].concat(v(e))}))},[[]])};function I(e,t,n){return new Promise(function(r,i){var s=new XMLHttpRequest;s.open(e,t),s.setRequestHeader("Content-Type","application/json"),s.onload=function(){this.status>=200&&this.status<300?r(s.response):i({status:this.status,statusText:s.statusText})},s.onerror=function(){i({status:this.status,statusText:s.statusText})},s.send(n)})}function L(e,t){var n={};return e.forEach(function(e){n[e.id]=[]}),t.forEach(function(e){n[e.source.id].push(e.target),n[e.target.id].push(e.source)}),n}function M(e,t){return e.splice(e.indexOf(t),1),e}function R(e,t){return e.filter(function(e){return e.source===t||e.target===t}).map(function(t){return e.splice(e.indexOf(t),1)}),e}function O(){d3.selectAll("circle").transition().duration(2e3).style("fill",b(1)).style("stroke","rgb(51, 51, 51)"),d3.selectAll("line").transition().duration(2e3).style("stroke","rgb(51, 51, 51)")}var j=function(){function r(e){u(this,r),this.container=e,this.maxStop=!1,this.animationSpeed=500,this.selectedNodes=[],this.isHoverEffect=!1,this.animDuration=2e3,this.testingCoherence=!1,this.cancel=!1,this.lastNodeId=0,this.masterNodes=new Set,this.nodes=[],this.links=[]}return h(r,[{key:"isEdge",value:function(e,t){return this.adjacencyList["".concat(e,"-").concat(t)]}},{key:"isIntroducedVertexNeighbor",value:function(e,t,n){var r,i=l(e);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(n["".concat(s,"-").concat(t)])return!0}}catch(a){i.e(a)}finally{i.f()}return!1}},{key:"isVertexAdjacent",value:function(e,t){var n=this.createSubgraph(e),r=[];n.nodes.forEach(function(e){r.push(e.id)});var i=this.returnAdj(n.links);return!!this.isNeighborInSet(t,i)}},{key:"showSeparator",value:function(e){this.separatorNodes=this.nodes.filter(function(t){return e.includes(t.id)}),this.path.style("opacity",.3);var t=this.nodes.filter(function(t){return!e.includes(t.id)}),n=this.links.filter(function(t){return!e.includes(t.source.id)&&!e.includes(t.target.id)});this.checkConnectivity(t,n),this.nodes.map(function(e){"cluster"in e!=!1&&null!==e.cluster||(e.cluster=1)}),d3.selectAll("circle").style("fill",function(e){return b(e.cluster)}),this.simulation.force("link",d3.forceLink(this.links).distance(2).strength(.1)).force("collision",d3.forceCollide().radius(30)),this.simulation.force("charge",d3.forceManyBody().strength(-1500));var r=forceInABox().strength(.4).template("force").groupBy("cluster").links(this.links).enableGrouping(!0).linkStrengthInterCluster(0).linkStrengthIntraCluster(0).forceLinkDistance(250).forceCharge(-2e3);this.simulation.force("group",r),this.simulation.alpha(.07).restart()}},{key:"hideSeparator",value:function(){this.path.style("opacity",0),d3.selectAll("circle").style("fill","#1f77b4"),this.nodes.forEach(function(e){return e.cluster=null});var e=forceInABox().strength(0).template("force").groupBy("cluster").links(this.links).linkStrengthInterCluster(0).linkStrengthIntraCluster(0).forceCharge(0);this.simulation.force("group",e).force("link",d3.forceLink(this.links).id(function(e){return e.id}).distance(85).strength(.8)).force("charge",d3.forceManyBody().strength(-600).distanceMin(15)),this.simulation.alpha(.1).restart()}},{key:"showCoherence",value:function(e){d3.selectAll("circle").filter(function(t){return e.includes(t.id)}).transition().duration(300).style("opacity",.4),d3.selectAll("#graph-container text").filter(function(t){return e.includes(t.id)}).transition().duration(300).style("opacity",.4),d3.selectAll("#graph-container line").filter(function(t){return e.includes(t.source.id)||e.includes(t.target.id)}).transition().duration(300).style("opacity",.4)}},{key:"hideCoherence",value:function(){d3.selectAll("circle").filter(function(e){return 0!==e.id}).transition().duration(300).style("opacity",1),d3.selectAll("line").transition().duration(300).style("opacity",1),d3.selectAll("#graph-container text").filter(function(e){return 0!==e.id}).transition().duration(300).style("opacity",1)}},{key:"toggleCoherenceProof",value:function(){var e=this;d3.selectAll("ellipse").on("mouseover",function(t){return e.graphOfTd.showCoherence(t.vertices)}),d3.selectAll("ellipse").on("mouseout",function(){return e.graphOfTd.hideCoherence()})}},{key:"toggleSeparator",value:function(){var e=this;d3.selectAll("ellipse").on("mouseover",function(t){return e.graphOfTd.showSeparator(t.vertices)}),d3.selectAll("ellipse").on("mouseout",function(){return e.graphOfTd.hideSeparator()})}},{key:"animateDeleteNode",value:function(){var e=p(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cancel){e.next=2;break}return e.abrupt("return");case 2:return d3.selectAll("#tree-container line").filter(function(e){return e.source===t||e.target===t}).transition().duration(this.animDuration).style("opacity",0),d3.selectAll("#tree-container text").filter(function(e){return e===t}).transition().duration(this.animDuration).style("opacity",0),e.next=6,d3.selectAll("#tree-container ellipse").filter(function(e){return e===t}).transition().duration(this.animDuration).style("opacity",0).end();case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"highlightNodes",value:function(){var e=p(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cancel){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,d3.selectAll("#tree-container ellipse").filter(function(e){return e===t||e===n}).transition().duration(this.animDuration).style("fill","orange").end();case 4:d3.select(".math-container").html("Forgotten vertices: ".concat(r));case 5:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"visitBag",value:function(e){var t=this;d3.selectAll("ellipse").filter(function(t){return t.id===e}).transition().duration(this.animDuration).delay(this.animDuration*this.anim).style("fill","orange").ease(d3.easeElastic).attr("rx",40).attr("ry",30).on("end",function(){d3.selectAll("ellipse").style("fill","#2ca02c"),d3.selectAll("ellipse").filter(function(t){return t.id===e}).transition().duration(t.animDuration).ease(d3.easeElastic).attr("rx",35).attr("ry",25)})}},{key:"isEdgeInTreeDecomposition",value:function(e,t){var n=this;return d3.selectAll("#tree-container ellipse").data().forEach(function(r){return r.vertices.includes(e)&&r.vertices.includes(t)&&n.visitBag(r.id),!1}),!0}},{key:"isNodeInTreeDecomposition",value:function(e){var t=this;return d3.selectAll("#tree-container ellipse").data().forEach(function(n){return n.vertices.includes(e.id)&&t.visitBag(n.id),!1}),!0}},{key:"checkIntroducedVertex",value:function(e,t,n,r,i){var s=this.createSubgraph(i);s.nodes.forEach(function(e){return e.color=null});for(var a=function(e){s.nodes.find(function(n){return n.id===t[e]}).color=n[e]},o=0;o<t.length;o++)a(o);s.nodes.find(function(t){return t.id===e}).color=r;var c,u=l(s.links);try{for(u.s();!(c=u.n()).done;){var d=c.value;if(null!==d.source.color&&null!==!d.target.color&&d.source.color===d.target.color)return!1}}catch(h){u.e(h)}finally{u.f()}return!0}},{key:"createSubgraph",value:function(e){var t=[];return e.forEach(function(e){var n,r=l(e.data.vertices);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.includes(i)||t.push(i)}}catch(s){r.e(s)}finally{r.f()}}),{nodes:this.nodes.filter(function(e){return t.includes(e.id)}),links:this.links.filter(function(e){return t.includes(e.source.id)&&t.includes(e.target.id)})}}},{key:"highlightSubGraph",value:function(e){this.path2.style("opacity",0);var t=e.nodes;this.path.style("opacity",.5),this.separatorNodes=t,this.simulation.restart()}},{key:"highlightSubGraph2",value:function(e){var t=e.nodes;this.path2.style("opacity",.5),this.separatorNodes2=t,this.simulation.restart()}},{key:"addTooltip",value:function(){this.tooltip&&this.tooltip.remove(),this.tooltip=d3.select("#main").append("div").attr("id","graph-tooltip").style("opacity",0)}},{key:"hideTooltip",value:function(){this.tooltip&&this.tooltip.style("opacity",0)}},{key:"hideArrow",value:function(){this.arrow&&this.arrow.style("opacity",0)}},{key:"hideHull",value:function(){this.path&&this.path.style("opacity",0)}},{key:"addNodeArrow",value:function(e,t){this.addTooltip(),this.arrow&&this.arrow.remove();var n=d3.select("#graph-node-".concat(e)),r=parseInt(n.attr("cx"),10),i=parseInt(n.attr("cy"),10);this.arrow=this.svg.append("line").style("opacity",1).attr("id","arrow-line").attr("x1",r-50).attr("y1",i).attr("x2",r-n.attr("r")-4).attr("y2",i).attr("marker-end","url(#arrow)").attr("stroke","rgb(51, 51, 51)").attr("stroke-width","3.5px");var s=document.getElementById("arrow-line").getBoundingClientRect().top,a=document.getElementById("arrow-line").getBoundingClientRect().left;this.tooltip.html(t).style("opacity",1).style("left","".concat(a,"px")).style("top","".concat(s,"px"))}},{key:"isNeighborInSet",value:function(e,t){for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<e.length;i++){var s=e[i];if(r!==s&&t["".concat(r,"-").concat(s)])return!0}return!1}},{key:"max",value:function(e,t,n,r){for(var i=0,s=[],a=!0,o=2;o<e.length+1;o++){var c,u=l(N(e,o));try{for(u.s();!(c=u.n()).done;){var d=c.value;a=!0;var h,f=l(N(d,2));try{for(f.s();!(h=f.n()).done;){var p,v=h.value,g=v[0],y=v[1],m=l(n);try{for(m.s();!(p=m.n()).done;){var k=p.value;if(t["".concat(g,"-").concat(k)]){a=!1;break}if(t["".concat(y,"-").concat(k)]){a=!1;break}}}catch(b){m.e(b)}finally{m.f()}if(t["".concat(g,"-").concat(y)]){a=!1;break}}}catch(b){f.e(b)}finally{f.f()}a&&d.length>i&&(i=d.length,s=d)}}catch(b){u.e(b)}finally{u.f()}}var x=parseInt(n[0],10);return Number.isNaN(x)||void 0===x||s.includes(x)||s.push(x),r&&d3.selectAll("#graph-container circle").classed("highlighted-stroke",function(e){if(s.includes(e.id))return!0}),s}},{key:"returnAdj",value:function(e){var t=[];return e.forEach(function(e){t["".concat(e.source.id,"-").concat(e.target.id)]=!0,t["".concat(e.target.id,"-").concat(e.source.id)]=!0}),t}},{key:"runMis",value:function(e,t,n,r){if(0===t.length)return 0;var i=this.createSubgraph(e),s=[];i.nodes.forEach(function(e){s.push(e.id)});var a=this.returnAdj(i.links);return this.isIntroducedVertexNeighbor(t,n,a)?-9999:this.isNeighborInSet(t,a)?-9999:this.max(s,a,t,r).length}},{key:"computeTrivialTreeDecomposition",value:function(){var e=[],t=[];this.nodes.forEach(function(t){0!==t.id&&e.push(t.id)});var n={id:1,label:JSON.stringify(e).replace("[","").replace("]","")};t.push(n);return{nodes:t,links:[]}}},{key:"testCoherence",value:function(){var e=p(regeneratorRuntime.mark(function e(){var t,n,r,i,s,a,o,c,l,u,d,h,f,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=d3.selectAll("#tree-container ellipse").data(),n=d3.selectAll("#tree-container line").data(),t.forEach(function(e){return e.visited=!1}),i=[],(r=[]).push(t[0]);case 6:if(!r.length){e.next=39;break}if(s=r[r.length-1],a=!0,o=L(t,n),void 0!==(c=o[s.id])){e.next=14;break}return r.pop(),e.abrupt("continue",6);case 14:l=0;case 15:if(!(l<c.length)){e.next=25;break}if((u=c[l]).visited){e.next=22;break}return a=!1,u.visited=!0,r.push(u),e.abrupt("break",25);case 22:l++,e.next=15;break;case 25:if(!a){e.next=37;break}for(d=o[s.id],h=d[0],f=0;f<s.vertices.length;f++)v=s.vertices[f],i.includes(v)||d.length&&(h.vertices.includes(v)||i.push(v));return r.pop(),t=M(t,s),n=R(n,s),e.next=34,this.highlightNodes(s,h,i);case 34:return d3.selectAll("ellipse").transition().duration(this.animDuration).style("fill","#2ca02c"),e.next=37,this.animateDeleteNode(s);case 37:e.next=6;break;case 39:return e.abrupt("return",new Promise(function(){var e=p(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(3e3);case 2:t();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 40:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"edgeCoverage",value:function(){var e=this;return new Promise(function(t){d3.selectAll("#graph-container line").style("fill",function(n){var r=n.source.id,i=n.target.id;d3.select("#link-".concat(n.source.id,"-").concat(n.target.id)).transition().duration(e.animDuration).delay(e.animDuration*e.anim).style("stroke","orange").style("stroke-width","5px").on("end",function(e){d3.selectAll("#graph-container line").style("stroke","rgb(51, 51, 51)").style("stroke-width","3.5px");var n=d3.selectAll("#graph-container line").data();e===n[n.length-1]&&t()}),d3.selectAll("#tree-container ellipse").filter(function(e){return e.vertices.includes(r)&&e.vertices.includes(i)}).transition().duration(e.animDuration).delay(e.animDuration*e.anim).style("fill","orange").on("end",function(){d3.selectAll("ellipse").style("fill","#2ca02c")}),e.anim++})})}},{key:"resetLinkStyles",value:function(){d3.selectAll("#tree-container line").style("opacity",1)}},{key:"resetTextStyles",value:function(){d3.selectAll("#tree-container text").style("opacity",1)}},{key:"testNodeCoverage",value:function(){var e=this;return new Promise(function(t){d3.selectAll("#graph-container circle").style("fill",function(n){d3.select("#graph-node-".concat(n.id)).transition().duration(e.animDuration).delay(e.animDuration*e.anim).style("fill","orange").on("end",function(e){d3.selectAll("#graph-container circle").style("fill","#1f77b4");var n=d3.selectAll("#graph-container circle").data();e===n[n.length-1]&&t()}),d3.selectAll("ellipse").filter(function(e){return e.vertices.includes(n.id)}).transition().duration(e.animDuration).delay(e.animDuration*e.anim).style("fill","orange").on("end",function(){d3.selectAll("ellipse").style("fill","#2ca02c")}),e.anim++})})}},{key:"highlightCoherence",value:function(){var e=this;this.anim=0,d3.selectAll("#graph-container circle").style("fill",function(t){d3.select("#graph-node-".concat(t.id)).transition().duration(e.animDuration).delay(e.animDuration*e.anim).style("fill","orange").on("end",function(e){d3.selectAll("#graph-container circle").style("fill","#1f77b4");var t=d3.selectAll("#graph-container circle").data();e===t[t.length-1]&&resolve()}),d3.selectAll("ellipse").filter(function(e){return e.vertices.includes(t.id)}).transition().duration(e.animDuration).delay(e.animDuration*e.anim).style("fill","orange").on("end",function(){d3.selectAll("ellipse").style("fill","#2ca02c")});var n=d3.selectAll("ellipse").data().filter(function(e){return e.vertices.includes(t.id)});d3.selectAll("#tree-container line").filter(function(e){return n.includes(e.source)&&n.includes(e.target)}).transition().duration(e.animDuration).delay(e.animDuration*e.anim).style("stroke","orange").style("stroke-width","6px").on("end",function(){d3.selectAll("line").style("stroke","rgb(51, 51, 51)").style("stroke-width","3.5px")}),e.anim++})}},{key:"stopAllTransitions",value:function(){d3.selectAll("circle").interrupt(),d3.selectAll("line").interrupt(),d3.selectAll("ellipse").interrupt(),d3.selectAll("text").interrupt()}},{key:"runCoherence",value:function(){var e=p(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.resetLinkStyles(),this.resetTextStyles(),this.resetTreeDecompositionStyles(),this.stopAllTransitions(),this.cancel=!0,e.next=7,this.testCoherence();case 7:return this.cancel=!1,e.next=10,this.testCoherence();case 10:return e.abrupt("return",new Promise(function(e){return e()}));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"runEdgeCoverage",value:function(){var e=p(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d3.select(".math-container").html(null),this.anim=0,this.resetLinkStyles(),this.resetTreeDecompositionStyles(),this.stopAllTransitions(),e.next=7,this.edgeCoverage();case 7:d3.select(".math-container").html("<span class=\"material-icons correct-answer\">check</span> Since every edge and its adjacent vertices appear in some \n    bag of the tree decomposition it also satifies <strong>property 2</strong>.\n    <br><br>\n    NOTE: It's possible not all the bags in the tree decomposition is highlighted if the graph contains isolated vertices since they obviously do not have an edge and therefor we don't test it.");case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"runNodeCoverage",value:function(){var e=p(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d3.select(".math-container").html(null),this.stopAllTransitions(),this.resetTreeDecompositionStyles(),this.anim=0,e.next=6,this.testNodeCoverage();case 6:d3.select(".math-container").html('<span class="material-icons correct-answer">check</span> Every vertex in the graph appears in some bag of the tree decomposition, so it satifies <strong>property 1</strong>.');case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getAllEdges",value:function(){var e=[];return this.links.forEach(function(t){e.push([t.source.id,t.target.id])}),e}},{key:"getLargestNode",value:function(){return this.nodes.length}},{key:"getTreeDecomposition",value:function(){return t.readTreeDecomposition(this.td)}},{key:"getNiceTreeDecomposition",value:function(){return t.readNiceTreeDecomposition(this.nicetd)}},{key:"readNiceTreeDecomposition",value:function(){var e=p(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=p(regeneratorRuntime.mark(function e(n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("../../tree-decomposition-files/nicetd.td");case 2:return r=e.sent,e.next=5,r.text();case 5:i=e.sent,t.nicetd=i.split("\n"),n();case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"readTreeDecomposition",value:function(){var e=p(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=p(regeneratorRuntime.mark(function e(n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("../../tree-decomposition-files/td.td");case 2:return r=e.sent,e.next=5,r.text();case 5:i=e.sent,t.td=i.split("\n"),n();case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"computeTreeDecomposition",value:function(){var e=p(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n={edges:t.getAllEdges(),largestNode:t.getLargestNode()-1};I("POST","/compute",JSON.stringify(n)).then(function(){return e()})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"resetExercises",value:function(){this.resetNodeStyling(),this.selectedNodes=[]}},{key:"resetNodeStyling",value:function(){d3.selectAll("circle").style("fill",null),d3.selectAll("circle").classed("nonhighlight",!0).classed("not-separating-node",!1).classed("separating-node",!1),d3.selectAll("line").style("stroke","black")}},{key:"colorSeparating",value:function(){var e=this;d3.selectAll("circle").filter(function(t){return e.selectedNodes.includes(t.id)}).classed("separating-node",!0)}},{key:"colorNotSeparating",value:function(){var e=this;d3.selectAll("circle").filter(function(t){return e.selectedNodes.includes(t.id)}).classed("not-separating-node",!0)}},{key:"toggleBalanceSeparatorExercise",value:function(){var e=this;d3.selectAll("circle").on("click",function(t){return e.checkBalanceSeparator(t)})}},{key:"isSeparatorSet",value:function(e){var t=this.nodes.filter(function(t){return!e.includes(t.id)}),n=this.links.filter(function(t){if(e.includes(t.target.id)||e.includes(t.source.id))return!0}),r=this.links.filter(function(e){return!n.includes(e)});return this.checkConnectivity(t,r)}},{key:"checkBalanceSeparator",value:function(e){if(this.selectedNodes.includes(e.id)){var t=this.selectedNodes.indexOf(e.id);if(this.selectedNodes.splice(t,1),0===this.selectedNodes.length)return d3.select("#separator-output").html(null),void this.resetNodeStyling();if(this.selectedNodes.length>1&&!1===this.isSeparatingNodesAdjacent())return this.resetNodeStyling(),this.colorNotSeparating(),d3.select("#separator-output").html("\\( S = \\{ ".concat(this.selectedNodes,' \\} \\) is a balanced separator!<span class="material-icons correct-answer">check</span>')),void renderMathInElement(document.body)}else this.selectedNodes.push(e.id);var n=(this.nodes.length-this.selectedNodes.length)/2,r=this.isSeparatorSet(this.selectedNodes);if(!0===r.isDisconnected){var i,s={},a=l(r.subGraphNodes);try{for(a.s();!(i=a.n()).done;){var o=i.value;if("cluster"in o){var c=o.cluster;s[c]=s[c]+1||1}}}catch(h){a.e(h)}finally{a.f()}for(var u=0,d=Object.values(s);u<d.length;u++){if(d[u]>n)return this.resetNodeStyling(),this.colorNotSeparating(),d3.select("#separator-output").html("\\( S = \\{ ".concat(this.selectedNodes,' \\} \\) is not a balanced separator!<span class="material-icons wrong-answer">clear</span>')),void renderMathInElement(document.body)}this.resetNodeStyling(),this.colorSeparating(),d3.select("#separator-output").html("\\( S = \\{ ".concat(this.selectedNodes,' \\} \\) is a balanced separator!<span class="material-icons correct-answer">check</span>')),renderMathInElement(document.body)}else this.resetNodeStyling(),this.colorNotSeparating(),d3.select("#separator-output").html("\\( S = \\{ ".concat(this.selectedNodes,' \\} \\) is not a balanced separator!<span class="material-icons wrong-answer">clear</span>')),renderMathInElement(document.body)}},{key:"checkMinimalSeparator",value:function(e){var t=this;if(this.selectedNodes.includes(e.id)){var n=this.selectedNodes.indexOf(e.id);if(this.selectedNodes.splice(n,1),0===this.selectedNodes.length)return d3.select("#separator-output").html("Click on a vertex to include it into the separator set."),void this.resetNodeStyling()}else this.selectedNodes.push(e.id);var r,i=l(C(this.selectedNodes).filter(function(e){return e.length!==t.selectedNodes.length&&0!==e.length}));try{for(i.s();!(r=i.n()).done;){var s=r.value;if(this.isSeparatorSet(s).isDisconnected)return this.resetNodeStyling(),this.colorNotSeparating(),d3.select("#separator-output").html("\\( S = \\{ ".concat(this.selectedNodes,' \\} \\) is not a minimal separator!<span class="material-icons wrong-answer">clear</span>')),void renderMathInElement(document.body)}}catch(a){i.e(a)}finally{i.f()}if(this.isSeparatorSet(this.selectedNodes).isDisconnected)return this.resetNodeStyling(),this.colorSeparating(),d3.select("#separator-output").html("\\( S = \\{ ".concat(this.selectedNodes,' \\} \\) is a minimal separator!<span class="material-icons correct-answer">check</span>')),void renderMathInElement(document.body);this.resetNodeStyling(),this.colorNotSeparating(),d3.select("#separator-output").html("\\( S = \\{ ".concat(this.selectedNodes,' \\} \\) is not a minimal separator!<span class="material-icons wrong-answer">clear</span>')),renderMathInElement(document.body)}},{key:"toggleMinimalSeparatorExercise",value:function(){var e=this;d3.selectAll("circle").on("click",function(t){return e.checkMinimalSeparator(t)})}},{key:"checkConnectivity",value:function(e,t){var n=1,r=2;if(0!==e.length){n=1,e.forEach(function(e){e.visited=!1});var i={};e.forEach(function(e){i[e.id]=[]}),t.forEach(function(e){i[e.source.id].push(e.target),i[e.target.id].push(e.source)});var s=[];for(s.push(e[0]);s.length>0;){for(var a=s.shift(),o=i[a.id],c=0;c<o.length;c++){var l=o[c];l.visited||s.push(l)}if(a.visited=!0,a.cluster=r.toString(),0===s.length)for(var u=0;u<e.length;u++)if(!e[u].visited){s.push(e[u]),n++,r++;break}}return this.componentCount=n,{subGraphNodes:e,subGraphLinks:t,isDisconnected:n>1}}n=0}},{key:"isNeighboringSeparatedNodes",value:function(e){var t,n=l(this.selectedNodes);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.adjacencyList["".concat(r,"-").concat(e)])return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"isNeighboring",value:function(e){var t=this;return this.selectedNodes.some(function(n){return!!t.adjacencyList["".concat(n,"-").concat(e)]})}},{key:"isSeparatingNodesAdjacent",value:function(){var e=this;return this.selectedNodes.every(function(t){return!!e.isNeighboring(t)})}},{key:"checkSeparator",value:function(e){var t=this;if(this.selectedNodes.includes(e.id)){var n=this.selectedNodes.indexOf(e.id);if(this.selectedNodes.splice(n,1),0===this.selectedNodes.length)return d3.select("#separator-output").html("Click on a vertex to include it into the separator set."),void this.resetNodeStyling()}else this.selectedNodes.push(e.id);var r=this.nodes.filter(function(e){return!t.selectedNodes.includes(e.id)}),i=this.links.filter(function(e){if(t.selectedNodes.includes(e.target.id)||t.selectedNodes.includes(e.source.id))return!0}),s=this.links.filter(function(e){return!i.includes(e)});this.checkConnectivity(r,s).isDisconnected?(this.resetNodeStyling(),this.colorSeparating(),d3.select("#separator-output").html("The set \\( S = \\{ ".concat(this.selectedNodes,' \\} \\) is indeed a separator in the graph. \n      <span class="material-icons correct-answer">check</span> \n      <br/><br/>Because if we remove the separator it would disconnect the graph into <strong>').concat(this.componentCount,"</strong> different components.")),renderMathInElement(document.body)):(this.resetNodeStyling(),this.colorNotSeparating(),d3.select(".result-text").html("\\( S = \\{ ".concat(this.selectedNodes,' \\} \\) is not a separator in the graph.  <span class="material-icons wrong-answer">clear</span>')),renderMathInElement(document.body))}},{key:"toggleSeparatorExercise",value:function(){var e=this;d3.selectAll("circle").on("click",function(t){return e.checkSeparator(t)})}},{key:"toggleMaxStop",value:function(){this.maxStop?this.maxStop=!1:this.maxStop=!0}},{key:"buildAdjacencyList",value:function(){var e=[];this.links.forEach(function(t){e["".concat(t.source.id,"-").concat(t.target.id)]=!0,e["".concat(t.target.id,"-").concat(t.source.id)]=!0}),this.adjacencyList=e}},{key:"maximumIndependentSet",value:function(){var e=p(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=p(regeneratorRuntime.mark(function e(n){var r,i,s,a,c,u,d,h,f,p,v,g,y,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=0,i=[],s=!0,a=2;case 4:if(!(a<t.nodes.length+1)){e.next=61;break}if(!0!==t.maxStop){e.next=7;break}return e.abrupt("break",61);case 7:c=N(t.nodes,a),u=l(c),e.prev=9,u.s();case 11:if((d=u.n()).done){e.next=50;break}if(h=d.value,s=!0,f=N(h,2),!0!==t.maxStop){e.next=17;break}return e.abrupt("break",50);case 17:p=l(f),e.prev=18,p.s();case 20:if((v=p.n()).done){e.next=38;break}if(g=v.value,y=g[0],m=g[1],!(t.animationSpeed>0)){e.next=31;break}return S(y.id),S(m.id),e.next=29,E(t.animationSpeed);case 29:A(y.id),A(m.id);case 31:if(!0!==t.maxStop){e.next=33;break}return e.abrupt("break",38);case 33:if(!t.adjacencyList["".concat(y.id,"-").concat(m.id)]){e.next=36;break}return s=!1,e.abrupt("break",38);case 36:e.next=20;break;case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(18),p.e(e.t0);case 43:return e.prev=43,p.f(),e.finish(43);case 46:if(!(s&&h.length>r)){e.next=48;break}return e.delegateYield(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=h.length,n=[],(i=h).forEach(function(e){e.isMax=!0,n.push(e.id)}),!(t.animationSpeed>0)){e.next=9;break}return e.next=7,T(h,1.5*t.animationSpeed);case 7:return e.next=9,E(1.5*t.animationSpeed);case 9:d3.select("#max-output").html(String.raw(o(),n)),renderMathInElement(document.body);case 11:case"end":return e.stop()}},e)})(),"t1",48);case 48:e.next=11;break;case 50:e.next=55;break;case 52:e.prev=52,e.t2=e.catch(9),u.e(e.t2);case 55:return e.prev=55,u.f(),e.finish(55);case 58:a++,e.next=4;break;case 61:t.resetNodeStyling(),d3.selectAll("circle").interrupt(),d3.selectAll("circle").filter(function(e){return i.includes(e)}).style("fill","orange"),n();case 65:case"end":return e.stop()}},e,null,[[9,52,55,58],[18,40,43,46]])}));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"runMaximumIndependentSet",value:function(){var e=p(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==this.isMisRunning){e.next=11;break}return this.animationSpeed=0,e.next=4,E(1500);case 4:d3.select("#max-output").html(null),d3.selectAll("circle").interrupt(),d3.selectAll("circle").style("fill","#1f77b4"),this.animationSpeed=500,this.maximumIndependentSet(),e.next=14;break;case 11:this.animationSoeed=500,this.isMisRunning=!0,this.maximumIndependentSet();case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"skipForwardMaximumIndependentSet",value:function(){this.animationSpeed=0}},{key:"clear",value:function(){this.svg.remove(),this.nodes=[],this.links=[],this.lastNodeId=0}},{key:"hoverEffect",value:function(e){d3.selectAll("#graph-container circle").filter(function(t){return e.vertices.includes(t.id)}).transition().duration(100).style("fill","orange")}},{key:"toggleHoverEffect",value:function(){var e=this;this.isHoverEffect?(this.isHoverEffect=!1,this.nodeSvg.on("mouseover",null),this.nodeSvg.on("mouseout",null)):(this.isHoverEffect=!0,this.nodeSvg.on("mouseover",function(t){return e.hoverEffect(t)}),this.nodeSvg.on("mouseout",this.resetNodeStyling))}},{key:"resetTreeDecompositionStyles",value:function(){d3.selectAll("ellipse").style("fill","#2ca02c").attr("rx",35).attr("ry",25).style("opacity",1)}},{key:"isConnected",value:function(){var e=1,t=2;if(0!==this.nodes.length){e=1,this.nodes.forEach(function(e){e.visited=!1});var n={};this.nodes.forEach(function(e){n[e.id]=[]}),this.links.forEach(function(e){n[e.source.id].push(e.target),n[e.target.id].push(e.source)});var r=[];for(r.push(this.nodes[0]);r.length>0;){for(var i=r.shift(),s=n[i.id],a=0;a<s.length;a++){var o=s[a];o.visited||r.push(o)}if(i.visited=!0,i.cluster=t.toString(),0===r.length)for(var c=0;c<this.nodes.length;c++)if(!this.nodes[c].visited){r.push(this.nodes[c]),e++,t++;break}}this.componentCount=e;var l=1===e;return l}e=0}},{key:"isTree",value:function(){return!(!this.isConnected()||this.nodes.length-1!==this.links.length)}},{key:"areNodesInTree",value:function(){var e=this;return this.graphOfTd.nodes.every(function(t){return e.masterNodes.includes(t.id)})}},{key:"isEveryGraphLinkInTree",value:function(){var e=this;return this.graphOfTd.links.every(function(t){for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(void 0!==r.vertices&&(r.vertices.includes(t.source.id)&&r.vertices.includes(t.target.id)))return!0}return!1})}},{key:"checkCoherence",value:function(){var e=this;if(0===this.nodes.length||0===this.links.length)return!1;for(var t=0;t<this.graphOfTd.nodes.length;t++){var n=this.graphOfTd.nodes[t];n.counter=0;for(var r=0;r<this.nodes.length;r++){var i=this.nodes[r];void 0!==i.vertices&&(i.vertices.includes(n.id)&&n.counter++)}}for(var s=this.graphOfTd.nodes.filter(function(e){return e.counter>1}),o=function(t){var n=s[t],r=e.nodes.filter(function(e){if(e.vertices)return e.vertices.includes(n.id)}),i=e.links.filter(function(e){return r.includes(e.source)&&r.includes(e.target)});if(e.checkConnectivity(r,i).isDisconnected)return{v:!1}},c=0;c<s.length;c++){var l=o(c);if("object"===a(l))return l.v}return!0}},{key:"checkTreeDecomposition",value:function(){var e,t,n,r,i;e=this.isTree()?'Tree decomposition is a tree  <span class="material-icons correct-answer">check</span>':'Tree decomposition must be a tree. <span class="material-icons wrong-answer">clear</span>',t=this.areNodesInTree()?'Node coverage  <span class="material-icons correct-answer">check</span>':'Node coverage <span class="material-icons wrong-answer">clear</span>',n=this.isEveryGraphLinkInTree()?'Edge coverage <span class="material-icons correct-answer">check</span>':'Edge coverage <span class="material-icons wrong-answer">clear</span>',r=this.checkCoherence()?'Coherence <span class="material-icons correct-answer">check</span>':'Coherence <span class="material-icons wrong-answer">clear</span>',i=this.isTree()&&this.areNodesInTree()&&this.isEveryGraphLinkInTree()&&this.checkCoherence()?'This is a valid tree decomposition <span class="material-icons correct-answer">check</span>':'This is not a valid tree decomposition <span class="material-icons wrong-answer">clear</span>',d3.select("#output").html("\n      <div>".concat(e,"</div>\n      <div>").concat(t,"</div>\n      <div>").concat(n,"</div>\n      <div>").concat(r,"</div>\n      <div>").concat(i,"</div>\n    "))}},{key:"updateMasterList",value:function(){var e=[];this.nodes.forEach(function(t){t.vertices&&(e=e.concat(t.vertices))});var t=v(new Set(e));this.masterNodes=t}},{key:"removeEdge",value:function(e){this.links.splice(this.links.indexOf(e),1),d3.event.preventDefault(),this.restart()}},{key:"restart",value:function(){var e=this;this.updateMasterList(),this.svg.selectAll("line").data(this.links,function(e){return"v".concat(e.source.id,"-v").concat(e.target.id)}).join(function(t){return t.append("line").lower().attr("class","graphLink").on("contextmenu",function(t){return e.removeEdge(t)})},function(e){return e},function(e){return e.remove()}),this.svg.selectAll("circle").data(this.nodes,function(e){return e.id}).join(function(t){t.append("circle").attr("r",20).style("fill","#1f77b4").style("stroke","rgb(51, 51, 51)").style("stroke-width","3.5px").on("mouseover",function(){return e.disableAddNode()}).on("mouseleave",function(){return e.enableAddNode()}).on("mousedown",function(t){return e.beginDrawLine(t)}).on("mouseup",function(t){return e.stopDrawLine(t)}).on("contextmenu",d3.contextMenu(n.contextMenu))},function(e){return e},function(e){return e.remove()}),this.svg.selectAll("text").data(this.nodes,function(e){return e.id}).join(function(e){return e.append("text").attr("dy",4.5).text(function(e){return e.id}).attr("class","graph-label")},function(e){return e},function(e){return e.remove()}),this.simulation.force("link").links(this.links),this.simulation.nodes(this.nodes),this.simulation.alpha(.5).restart()}},{key:"addNode",value:function(){if(!1!==this.canAddNode){var e=d3.event;if(0===e.button){var t=d3.mouse(e.currentTarget),n={x:t[0],y:t[1],id:++this.lastNodeId};this.nodes.push(n),this.setg(),this.restart()}}}},{key:"enableAddNode",value:function(){this.canAddNode=!0}},{key:"disableAddNode",value:function(){this.canAddNode=!1}},{key:"removeNode",value:function(e){var t=this;d3.event.preventDefault(),this.links.filter(function(t){return t.source===e||t.target===e}).map(function(e){return t.links.splice(t.links.indexOf(e),1)});var n=this.nodes.indexOf(e);this.nodes.splice(n,1),this.restart()}},{key:"leftCanvas",value:function(){this.dragLine.classed("hidden",!0),this.mousedownNode=null}},{key:"updateDragLine",value:function(){if(this.mousedownNode){var e=d3.mouse(d3.event.currentTarget);this.dragLine.attr("d","M".concat(this.mousedownNode.x,",").concat(this.mousedownNode.y,"L").concat(e[0],",").concat(e[1]))}}},{key:"hideDragLine",value:function(){this.svg.selectAll("circle").style("fill","#1f77b4"),this.dragLine.classed("hidden",!0),this.mousedownNode=null,this.restart()}},{key:"beginDrawLine",value:function(e){this.svg.selectAll("circle").filter(function(t){return t===e}).style("fill","orange"),d3.event.ctrlKey||(d3.event.preventDefault(),this.mousedownNode=e,this.dragLine.classed("hidden",!1).attr("d","M".concat(this.mousedownNode.x,",").concat(this.mousedownNode.y,"L").concat(this.mousedownNode.x,",").concat(this.mousedownNode.y)))}},{key:"stopDrawLine",value:function(e){if(this.svg.selectAll("circle").style("fill","#1f77b4"),this.mousedownNode&&this.mousedownNode!==e){for(var t=0;t<this.links.length;t++){var n=this.links[t];if(n.source===this.mousedownNode&&n.target===e||n.source===e&&n.target===this.mousedownNode)return}var r={source:this.mousedownNode,target:e};this.links.push(r)}}},{key:"enableDrawing",value:function(){var e=this;this.svg&&this.clear();var t=document.getElementById(this.container).offsetWidth,n=document.getElementById(this.container).offsetHeight;this.width=t,this.height=n;var r=d3.select("#".concat(this.container)).append("svg").attr("width",t).attr("height",n);this.svg=r,this.svg.style("cursor","crosshair"),this.restartSimulation(),this.svg.on("mousedown",function(){return e.addNode()}).on("contextmenu",function(){return d3.event.preventDefault()}).on("mousemove",function(){return e.updateDragLine()}).on("mouseup",function(){return e.hideDragLine()}).on("mouseleave",function(){return e.leftCanvas()}),this.dragLine=this.svg.append("path").attr("class","dragLine hidden").attr("d","M0,0L0,0")}},{key:"setg",value:function(){var e=this;this.nodes.forEach(function(t){t.graph=e})}},{key:"restartSimulation",value:function(){var e=this,t=d3.forceSimulation().force("x",d3.forceX(this.width/2).strength(.1)).force("y",d3.forceY(this.height/2).strength(.1)).nodes(this.nodes).force("charge",d3.forceManyBody().strength(-500)).force("link",d3.forceLink(this.links).id(function(e){return e.id}).distance(70).strength(.5)).force("collision",d3.forceCollide().radius(20)).on("tick",function(){e.svg.selectAll("circle").attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}),e.svg.selectAll("text").attr("x",function(e){return e.x}).attr("y",function(e){return e.y}),e.svg.selectAll("line").attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y})});t.force("link").links(this.links),this.simulation=t}},{key:"highlightNodeColor",value:function(e,t){d3.select("#graph-node-".concat(e)).style("fill",t)}},{key:"resetNodeColors",value:function(){d3.selectAll("#graph-container circle").style("fill","rgb(31, 119, 180)")}},{key:"loadGraph",value:function(e,t,n){var r=this;this.graphOfTd=n,this.svg&&this.clear(),this.graph=e,this.nodes=e.nodes,this.links=e.links;var i=document.getElementById(this.container).offsetWidth,s=document.getElementById(this.container).offsetHeight;this.width=i,this.height=s;var a=d3.select("#".concat(this.container)).append("svg").attr("width",this.width).attr("height",this.height);this.svg=a,this.svg.append("defs").append("marker").attr("id","arrow").attr("viewBox","0 -5 10 10").attr("refX",5).attr("refY",0).attr("markerWidth",4).attr("markerHeight",4).attr("oriten","auto").append("path").attr("d","M0,-5L10,0L0,5");var o=a.append("path").attr("fill","orange").attr("stroke","orange").attr("stroke-width",16).attr("opacity",0);this.path=o,this.path2=this.svg.append("path").attr("fill","steelblue").attr("stroke","steelblue").attr("stroke-width",16).attr("opacity",0);var c=a.selectAll("line").data(e.links).enter().append("line").attr("id",function(e){return"link-".concat(e.source.id,"-").concat(e.target.id)}).attr("class","graphLink");if(this.linkSvg=c,"tree"===t){var l=a.selectAll("g").data(e.nodes).enter().append("g").attr("class","td").call(d3.drag().on("start",function(e){d3.event.active||d.alphaTarget(.3).restart();var t=[e.x,e.y];e.fx=t[0],e.fy=t[1]}).on("drag",function(e){var t=[d3.event.x,d3.event.y];e.fx=t[0],e.fy=t[1]}).on("end",function(e){d3.event.active||d.alphaTarget(0);var t=[null,null];e.fx=t[0],e.fy=t[1]}));this.treeg=l,this.nodeSvg=a.selectAll("g").append("ellipse").attr("rx",function(e){return 8*e.label.length}).attr("ry",25).style("fill","#2ca02c").style("stroke","rgb(51, 51, 51)").style("stroke-width","3.5px"),a.selectAll("g").append("text").attr("dy",-4).text(function(e){return"tree"===t?e.label.substring(0,2):e.id}).style("letter-spacing","6px").attr("class","graph-label"),a.selectAll("g").append("text").attr("dy",15).text(function(e){return e.label.substring(2)}).style("letter-spacing","4px").attr("class","graph-label")}else this.nodeSvg=a.selectAll("circle").data(e.nodes).enter().append("circle").attr("id",function(e){return"graph-node-".concat(e.id)}).style("opacity",function(e){if(0===e.id)return 0}).attr("r",18).style("fill",function(){return"tree"===t?"#2ca02c":"#1f77b4"}).style("stroke","rgb(51, 51, 51)").style("stroke-width","3.5px").attr("class","nonhighlight").call(d3.drag().on("start",function(e){d3.event.active||d.alphaTarget(.3).restart();var t=[e.x,e.y];e.fx=t[0],e.fy=t[1]}).on("drag",function(e){var t=[d3.event.x,d3.event.y];e.fx=t[0],e.fy=t[1]}).on("end",function(e){d3.event.active||d.alphaTarget(0);var t=[null,null];e.fx=t[0],e.fy=t[1]})),a.selectAll("text").data(e.nodes).enter().append("text").style("opacity",function(e){if(0===e.id)return 0}).attr("dy",4.5).text(function(e){return e.label?e.label:e.id}).attr("class","graph-label");var u=d3.line().curve(d3.curveBasisClosed),d=d3.forceSimulation().force("center",d3.forceCenter(i/2,s/2)).force("x",d3.forceX(i/2).strength(.1)).force("y",d3.forceY(s/2).strength(.1)).nodes(e.nodes).force("charge",d3.forceManyBody().strength(-900)).force("link",d3.forceLink(e.links).id(function(e){return e.id}).distance(function(){return"tree"===t?100:50}).strength(.9)).force("collision",d3.forceCollide().radius(function(e){return"tree"===t?50:e.r+10})).on("tick",function(){if(r.svg.selectAll("circle").attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}),r.svg.selectAll("ellipse").attr("transform",function(e){return"translate(".concat(e.x,",").concat(e.y,")")}),r.svg.selectAll("text").attr("x",function(e){return e.x}).attr("y",function(e){return e.y}),r.svg.selectAll("line.graphLink").attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y}),r.separatorNodes){for(var e=[],t=0;t<r.separatorNodes.length;t++){var n=r.separatorNodes[t];e=e.concat([[n.x-20.5,n.y-20.5],[n.x-20.5,n.y+20.5],[n.x+20.5,n.y-20.5],[n.x+20.5,n.y+20.5]])}if(0===e.length)return;r.path.attr("d",u(w(e)))}if(r.separatorNodes2){for(var i=[],s=0;s<r.separatorNodes2.length;s++){var a=r.separatorNodes2[s];i=i.concat([[a.x-20.5,a.y-20.5],[a.x-20.5,a.y+20.5],[a.x+20.5,a.y-20.5],[a.x+20.5,a.y+20.5]])}if(0===i.length)return;r.path2.attr("d",u(w(i)))}});d.force("link").links(e.links),this.buildAdjacencyList(),this.simulation=d,this.setg()}},{key:"randomGraph",value:function(t,n){var r;this.svg&&this.clear(),r=void 0===t&&void 0===n?(0,e.default)(10,10):(0,e.default)(t,n),r=this.loadGraph(r,this.container,"graph")}}]),r}();exports.default=j;
},{"../Utilities/helpers.js":"jR25","../Utilities/readTree.js":"uXQf","./ContextMenu.js":"cEaq"}],"kwgG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.contextMenu=void 0;var e=function(e){return[{title:"Insert Child Node",action:function(e,t,r){var o=prompt("Value:"),a=o.split(","),n=[];a.forEach(function(e){var t=parseInt(e,10);n.push(t)}),t.tree.addNode(t,o,n)}},{title:"Delete Node",action:function(e,t,r){t.tree.removeNode(t)}},{title:"Set Value",action:function(e,t,r){var o=prompt("Value:");t.data.label=o;var a=o.split(","),n=[];a.forEach(function(e){var t=parseInt(e,10);n.push(t)}),t.data.vertices=n,t.tree.restart()}}]};exports.contextMenu=e;
},{}],"F6Pa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../Utilities/helpers.js"),e=require("./TreeContextMenu.js");function r(t,e,r,a,n,i,l){try{var o=t[i](l),c=o.value}catch(s){return void r(s)}o.done?e(c):Promise.resolve(c).then(a,n)}function a(t){return function(){var e=this,a=arguments;return new Promise(function(n,i){var l=t.apply(e,a);function o(t){r(l,n,i,o,c,"next",t)}function c(t){r(l,n,i,o,c,"throw",t)}o(void 0)})}}function n(){var t=s(["<tr><td>( "," )</td><td>","</td></tr>"],["<tr><td>\\( "," \\)</td><td>","</td></tr>"]);return n=function(){return t},t}function i(){var t=s(["end{pmatrix}"],["\\end{pmatrix}"]);return i=function(){return t},t}function l(){var t=s(["\n            "," → ","\\\n        "],["\n            "," → ","\\\\\n        "]);return l=function(){return t},t}function o(){var t=s(["\begin{pmatrix}"],["\\begin{pmatrix}"]);return o=function(){return t},t}function c(){var t=s(["\n    <thead>\n      <tr>\n        <th>( (d,M) )</th>\n        <th>( bool )</th>\n      </tr>\n    </thead>\n    "],["\n    <thead>\n      <tr>\n        <th>\\( (d,M) \\)</th>\n        <th>\\( bool \\)</th>\n      </tr>\n    </thead>\n    "]);return c=function(){return t},t}function s(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function h(t){return f(t)||u(t)||b(t)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function f(t){if(Array.isArray(t))return m(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function y(t,e,r){return e&&p(t.prototype,e),r&&p(t,r),t}function g(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=b(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,o=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return l=t.done,t},e:function(t){o=!0,i=t},f:function(){try{l||null==r.return||r.return()}finally{if(o)throw i}}}}function b(t,e){if(t){if("string"==typeof t)return m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(t,e):void 0}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}var x=function(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0};Set.prototype.subSet=function(t){if(this.size>t.size)return!1;var e,r=g(this);try{for(r.s();!(e=r.n()).done;){var a=e.value;if(!t.has(a))return!1}}catch(n){r.e(n)}finally{r.f()}return!0};var k=[1,2,3,4,5,6,7,8,9],S=d3.scaleOrdinal().domain(k).range(d3.schemeSet3);function w(){d3.selectAll("circle").classed("highlighted-vertex",!1).classed("nonhighlight",!0)}function N(t){for(var e=[],r={},a=0,n=t.length;a<n;a++){var i=JSON.stringify(t[a]);r[i]||(e.push(t[a]),r[i]=!0)}return e}function A(t){w(),d3.selectAll("circle").filter(function(e){return t===e.data.id}).classed("nonhighlight",!1).classed("highlighted-vertex",!0)}function C(t){var e=d3.select("#treeNode-".concat(t.id)),r=parseInt(e.attr("x"),10),a=parseInt(e.attr("y"),10);a+=12.5,d3.select("#tooltip-arrow").style("opacity",1).attr("x1",r-50).attr("y1",a).attr("x2",r).attr("y2",a).attr("transform","translate(".concat(0,", ",30,")"))}function T(t,e,r){"children"in t==!1?d3.select("#tooltip").html("Largest set of a leaf is 1"):d3.select("#tooltip").html("<div>Max set incl. node: ".concat(e,"</div>\n    <div>\n      Max set excl. node: ").concat(r,"\n    </div>"));var a=d3.select("#treeNode-".concat(t.id)),n=a.attr("cx"),i=a.attr("cy");d3.select("#tooltip-arrow").style("opacity",1).attr("x1",n-50).attr("y1",i).attr("x2",n-18).attr("y2",i).attr("transform","translate(".concat(0,", ",30,")"));var l=document.getElementById("tooltip-arrow").getBoundingClientRect().top,o=document.getElementById("tooltip-arrow").getBoundingClientRect().left;d3.select("#tooltip").style("opacity",1).style("left","".concat(o,"px")).style("top","".concat(l,"px"))}function O(t,e){var r;return t.each(function(t){t.data.id===e.id&&(r=t.descendants())}),r}var I=function(){function r(t,e,a){v(this,r),this.container=t,this.isMis=!1,this.isColor=!1,this.root=null,this.current=0,this.graph=null,this.type=e,this.graph=a,this.masterNodes=[]}return y(r,[{key:"getSubTree",value:function(t){return t.descendants()}},{key:"getRoot",value:function(){return this.root}},{key:"updateMasterList",value:function(){var t=[];this.nodes.forEach(function(e){e.vertices&&(t=t.concat(e.vertices))});var e=h(new Set(t));this.masterNodes=e}},{key:"isBinary",value:function(){var t=!0;return this.root.sum(function(e){e.children&&(t=!(e.children.length>2))}),t}},{key:"isNodeCoverage",value:function(){var t=new Set;this.graph.nodes.forEach(function(e){e.label.split(" ").forEach(function(e){return t.add(parseInt(e,10))})});var e=new Set;return this.root.sum(function(t){t.label.split(",").forEach(function(t){return e.add(parseInt(t,10))})}),t.subSet(e)}},{key:"isEdgeCoverage",value:function(){var t=this;return this.graph.links.every(function(e){return t.root.eachAfter(function(t){if(t.data.vertices&&t.data.vertices.includes(e.source.id)&&t.data.vertices.includes(e.target.id))return!0}),!1})}},{key:"checkNodeType",value:function(){var t=!1,e=!0;return this.root.eachAfter(function(r){var a=r.data.vertices;if(t=!1,r.data.children&&0!==r.data.children.length){if(2===r.data.children.length)x(r.children[0].data.vertices,r.children[1].data.vertices)&&(t=!0);else if(a.length>r.data.children[0].vertices.length){1===a.length-r.data.children[0].vertices.length&&(t=!0)}else if(a.length<r.data.children[0].vertices.length){1===r.data.children[0].vertices.length-a.length&&(t=!0)}}else a.length<=1&&(t=!0);!1===t&&(e=!1)}),e}},{key:"checkNiceProperties",value:function(){this.isBinary(),this.isNodeCoverage(),this.checkNodeType()?d3.select("#output").html('\n        All nodes are either a leaf, join, introduce or a forget node <span class="material-icons correct-answer">check</span>\n      '):d3.select("#output").html('\n      Some nodes are NOT a leaf, join, introduce or a forget node <span class="material-icons wrong-answer">clear</span>\n      ')}},{key:"restart",value:function(){this.updateMasterList(),this.setAllG();var t=this.treeLayout(this.root),r=t.descendants(),a=t.descendants().slice(1);r.forEach(function(t){t.y=180*t.depth}),this.svg.selectAll("line").data(a,function(t){return t.id}).join(function(t){return t.append("line").lower().attr("class","tree-link").attr("x1",function(t){return t.parent.x+12.5}).attr("y1",function(t){return t.parent.y}).attr("x2",function(t){return t.x+12.5}).attr("y2",function(t){return t.y})},function(t){return t.attr("x1",function(t){return t.parent.x+12.5}).attr("y1",function(t){return t.parent.y}).attr("x2",function(t){return t.x+12.5}).attr("y2",function(t){return t.y})},function(t){return t.remove()}),this.svg.selectAll("rect").data(r,function(t){return t.id}).join(function(t){return t.append("rect").attr("width",function(t){return 25*t.data.label.split(",").length}).attr("height",25).attr("x",function(t){return t.x-25*t.data.label.split(",").length/2}).attr("y",function(t){return t.y}).attr("rx",5).attr("ry",5).attr("class","tree-node").on("contextmenu",d3.contextMenu(e.contextMenu))},function(t){return t.attr("x",function(t){return t.x-25*t.data.label.split(",").length/2}).attr("y",function(t){return t.y})},function(t){return t.remove()}),this.svg.selectAll("text").data(r,function(t){return t.label}).join(function(t){return t.append("text").attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("dy","1.1em").attr("class","graph-label").text(function(t){return t.data.label})},function(t){return t.text(function(t){return t.data.label})},function(t){return t.remove()}),this.checkNiceProperties()}},{key:"addNode",value:function(t,e,r){var a={id:++this.nodes.length,label:e,children:null,tree:this,vertices:r},n=d3.hierarchy(a);n.depth=t.depth+1,n.parent=t,n.children=null,t.children||(t.children=[],t.data.children=[]),t.children.push(n),t.data.children.push(n.data),this.currentParent=t,this.restart()}},{key:"removeNode",value:function(t){this.root.each(function(e){if(t===e){e.children=null,e.data.children=null;var r=e.parent.data.children.indexOf(e);e.parent.data.children.splice(r,1),1===e.parent.children.length&&(e.parent.children=null)}}),this.restart()}},{key:"clear",value:function(){this.svg.remove()}},{key:"hideTooltip",value:function(){d3.select("#tooltip").style("opacity",0),d3.select("#tooltip-arrow").style("opacity",0)}},{key:"remove",value:function(){this.svg.remove()}},{key:"setGraph",value:function(t){this.graph=t}},{key:"setAllNodes",value:function(){this.root.eachAfter(function(t){t.largestSet=0})}},{key:"highlightMaxSet",value:function(t){var e="";if("Ø"!==(e+=t.replace("{","").replace("}",""))){e="[".concat(e,"]");var r=JSON.parse(e);this.graph.runMis(this.currentSubTree,r,0,!0)}}},{key:"drawHamiltonianTable",value:function(t){var e=h(t.table.keys()),r=h(t.table.values()),a=String.raw(c());console.log(e);var s="";e.forEach(function(t,e){for(var a=r[e],c=t[0],h=Array.from(Object.keys(c)),d=t[1],u=String.raw(o()),f=0,v=h;f<v.length;f++){var p=v[f],y=c[p];u+=String.raw(l(),p[0],y)}u+=String.raw(i());var b,m=g(d);try{for(m.s();!(b=m.n()).done;){var x=b.value;u+=JSON.stringify(x)}}catch(k){m.e(k)}finally{m.f()}s+=String.raw(n(),u,a?'true<span class="material-icons correct-answer">check</span>':'false<span class="material-icons wrong-answer">clear</span>')});var d='<table class="hamiltonianTable">'.concat(a,"<tbody>").concat(s,"</tbody></table>");d3.select("#dp-table").html(d),renderMathInElement(document.body)}},{key:"drawTable",value:function(t){var e=Object.keys(t.table),r=Object.values(t.table),a="";e.forEach(function(t,a){if(""===t){t="Ø",e.splice(a,1),e.unshift(t);var n=r[a];r.splice(a,1),r.unshift(n)}}),e.forEach(function(t,e){var n=r[e];n<-1e3||("Ø"!==t&&(t="{".concat(t,"}")),a+="<tr id=".concat(t,' class="mis-row"><td class="sets">').concat(t,"</td><td>").concat(n,"</td></tr>"))});var n='<table><tbody id="tbody">'.concat(a,"</tbody></table>"),i=d3.select("#treeNode-".concat(t.id)),l=parseInt(i.attr("x"),10),o=parseInt(i.attr("y"),10);o+=12.5,d3.select("#tooltip-arrow").style("opacity",1).attr("x1",l-50).attr("y1",o).attr("x2",l).attr("y2",o).attr("transform","translate(".concat(0,", ",30,")"));var c=document.getElementById("tooltip-arrow").getBoundingClientRect().top,s=document.getElementById("tooltip-arrow").getBoundingClientRect().left;d3.select("#tooltip").html(n).style("opacity",1).style("left","".concat(s,"px")).style("top","".concat(c,"px"))}},{key:"misiterative",value:function(){var t=a(regeneratorRuntime.mark(function t(){var e,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,this.root.eachAfter(function(){var t=a(regeneratorRuntime.mark(function t(a){var n,i,l,o,c,s,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e++,r.current===e){t.next=3;break}return t.abrupt("return");case 3:if("children"in(n=a.data)!=!1){t.next=9;break}return T(n),A(n.id),n.largestSet=1,t.abrupt("return",n.largestSet);case 9:return i=0,1===n.children.length&&(i=n.children[0].largestSet),2===n.children.length&&(i=n.children[0].largestSet+n.children[1].largestSet),l=1,void 0!==n.children[0]&&"children"in n.children[0]&&(o=n.children[0].children[0].largestSet,c=0,2===n.children[0].children.length&&(c=n.children[0].children[1].largestSet),l+=o+c),void 0!==n.children[1]&&"children"in n.children[1]&&(s=n.children[1].children[0].largestSet,h=0,2===n.children[1].children.length&&(h=n.children[1].children[1].largestSet),l+=s+h),T(n,l,i),A(n.id),n.largestSet=Math.max(i,l),t.abrupt("return",n.largestSet);case 19:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"setMisNormalTree",value:function(){this.isMisNormalTree=!0}},{key:"nextStep",value:function(){var t=this.root.descendants().length;this.current++,this.current!==t&&(this.current%=t),this.isMisNormalTree&&this.misiterative(this.current),this.isColor&&this.threeColor(this.current)}},{key:"previousStep",value:function(){if(0!==this.current){var t=this.root.descendants().length;--this.current,this.current%=t,this.isMisNormalTree&&this.misiterative(this.current),this.isColor&&this.threeColor(this.current)}}},{key:"animateNode",value:function(t){var e=t.descendants(),r=[];e.forEach(function(t){r.push(t.data.id)}),this.svg.selectAll("rect").classed("highlighted-node",function(t){return!!r.includes(t.data.id)})}},{key:"animateLink",value:function(t){var e=t.links(),r=[];e.forEach(function(t){r.push(t.source.data),r.push(t.target.data)}),this.svg.selectAll("line.tree-link").style("stroke",function(t){if(r.includes(t.source.data))return"orange"})}},{key:"isArrayInArray",value:function(t,e){var r=JSON.stringify(e);return t.some(function(t){return JSON.stringify(t)===r})}},{key:"hamiltonianPath",value:function(){var e=this,r=1;this.root.eachAfter(function(a){if(e.current===r++){e.animateNode(a),e.animateLink(a);var n=a.data,i="";"children"in n==!1?i="leaf":2===n.children.length?i="join":n.vertices.length>n.children[0].vertices.length?i="introduce":n.vertices.length<n.children[0].vertices.length&&(i="forget");var l,o,c=n.vertices;"children"in n&&(o=h((l=e.getChild(n)).table.keys()));var s=new Map;switch(i){case"leaf":break;case"introduce":var d=e.getIntroducedVertex(n);if(0===l.vertices.length)for(var u=0;u<=2;u++){var f=[],v={};v[c[0]]=u;var p=[];p.push([]),f.push(v),f.push(p),1===u?s.set(f,!1):s.set(f,!0)}else{var y,b=g(o);try{for(b.s();!(y=b.n()).done;)for(var m=y.value,x=0;x<=2;x++){var k=m[0],S=(0,t.deepClone)(k);S[d]=x;var w=[];w.push(S,[]),s.set(w,!0)}}catch(mt){b.e(mt)}finally{b.f()}var A,C=g(o);try{for(C.s();!(A=C.n()).done;){A.value[0];for(var T=0;T<=2;T++){var O=[],I=[],B={};switch(T){case 0:B.set(d,0),I.push([]),O.push(B,I);break;case 1:var M,E=g(l.vertices);try{for(E.s();!(M=E.n()).done;){var J=M.value;if(e.graph.isEdge(J,d)){var j,R=g(childStates);try{for(R.s();!(j=R.n()).done;){var P=j.value,H=P[0];P[1];1===H[J]&&(B[d]=1,O.push(B,I))}}catch(mt){R.e(mt)}finally{R.f()}}}}catch(mt){E.e(mt)}finally{E.f()}break;case 2:B.set(d,2),O.push(B,I),states.push(O)}}}}catch(mt){C.e(mt)}finally{C.f()}}break;case"forget":var G,V=e.getForgottenVertex(n),L=g(o);try{for(L.s();!(G=L.n()).done;){var z=G.value,F=[],q=z[0],D=z[1];delete q[V];var U,W=g(D);try{for(W.s();!(U=W.n()).done;){var X=U.value,_=D.indexOf(X);X.includes(V)&&D.splice(_)}}catch(mt){W.e(mt)}finally{W.f()}F.push(q,D),s.set(F,!0)}}catch(mt){L.e(mt)}finally{L.f()}var Y,$=[],K=g(h(s.keys()));try{for(K.s();!(Y=K.n()).done;){var Q=Y.value[0],Z=JSON.stringify(Q);$.push(Z)}}catch(mt){K.e(mt)}finally{K.f()}var tt=N($);s=new Map;var et,rt=[],at=g(tt);try{for(at.s();!(et=at.n()).done;){var nt=et.value,it=JSON.parse(nt);rt.push(it)}}catch(mt){at.e(mt)}finally{at.f()}for(var lt=0,ot=rt;lt<ot.length;lt++){for(var ct=ot[lt],st=[],ht=[],dt=[],ut=0,ft=Object.keys(ct);ut<ft.length;ut++){var vt=ft[ut];1===ct[vt]&&ht.push(vt)}if(console.log(ht),ht.length>1&&ht.length%2==0){for(var pt=0;pt<ht.length;pt+=2){var yt=[],gt=ht[pt],bt=ht[pt+1];yt.push(parseInt(gt,10),parseInt(bt,10)),dt.push(yt)}st.push(ct,dt),s.set(st,!0)}else st.push(ct,[]),s.set(st,!1)}break;case"join":h(e.getChild2(n).table.keys())}n.table=s,e.drawHamiltonianTable(n)}})}},{key:"threeColor",value:function(){var e=this,r=["red","green","blue"],a=1;this.root.copy().eachAfter(function(n){if(e.current===a++){var i=n.data,l=O(e.root,n.data);if("children"in i==!1){e.graph.hideTooltip(),e.graph.hideArrow(),e.graph.hideHull(),C(i);var o=document.getElementById("tooltip-arrow").getBoundingClientRect().top,c=document.getElementById("tooltip-arrow").getBoundingClientRect().left;d3.select("#color-table").html(null).style("opacity",1).style("left","".concat(c,"px")).style("top","".concat(o,"px")),i.positionTracker=[];for(var s=d3.line().curve(d3.curveBasisClosed),h=[],d=0;d<l.length;d++){var u=l[d];h=h.concat([[u.x-20.5,u.y-20.5],[u.x-20.5,u.y+150],[u.x+20.5,u.y-20.5],[u.x+20.5,u.y+20.5]])}return e.path.attr("d",s((0,t.hull)(h))),void e.path.style("opacity",.3)}var f=i.children[0],v=e.graph.createSubgraph(l);if(e.graph.highlightSubGraph(v),i.vertices.length>f.vertices.length){var p=JSON.parse(JSON.stringify(f)),y=p.states,b=i.vertices.filter(function(t){return!f.vertices.includes(t)})[0];e.graph.addNodeArrow(b,"Introduced Vertex"),e.graph.resetNodeColors(),e.graph.highlightNodeColor(b,"rgb(128, 177, 211)");var m=[];if(0===f.vertices.length){var x,k=g(r);try{for(k.s();!(x=k.n()).done;){var S=x.value,w=[];w.push(S),m.push(w)}}catch(Mt){k.e(Mt)}finally{k.f()}var A=p.positionTracker;A.includes(b)||A.push(b),i.positionTracker=A,i.states=m}else{var T,I=g(y);try{for(I.s();!(T=I.n()).done;){var B,M=T.value,E=g(r);try{for(E.s();!(B=E.n()).done;){var J=B.value,j=JSON.parse(JSON.stringify(M));e.graph.checkIntroducedVertex(b,p.positionTracker,j,J,l)&&(j.push(J),m.push(j))}}catch(Mt){E.e(Mt)}finally{E.f()}}}catch(Mt){I.e(Mt)}finally{I.f()}i.states=m;var R=p.positionTracker;R.includes(b)||R.push(b),i.positionTracker=R}}if(i.vertices.length<f.vertices.length){var P=JSON.parse(JSON.stringify(f)),H=P.states,G=f.vertices.filter(function(t){return!i.vertices.includes(t)});e.graph.addNodeArrow(G,"Forgotten Vertex"),e.graph.resetNodeColors(),e.graph.highlightNodeColor(G,"rgb(251, 128, 114)");var V=P.positionTracker,L=parseInt(G,10),z=V.indexOf(L);V.splice(z,1),i.positionTracker=V;var F,q=g(H);try{for(q.s();!(F=q.n()).done;){F.value.splice(z,1)}}catch(Mt){q.e(Mt)}finally{q.f()}var D=N(H);i.states=D}if(2===i.children.length){var U=i.children[0],W=JSON.parse(JSON.stringify(U)).states,X=i.children[1],_=JSON.parse(JSON.stringify(X)).states,Y=[],$=O(e.root,n.children[0].data),K=e.graph.createSubgraph($);e.graph.highlightSubGraph(K);var Q=O(e.root,n.children[1].data),Z=e.graph.createSubgraph(Q);if(e.graph.highlightSubGraph2(Z),W.length<_.length){i.positionTracker=U.positionTracker;var tt,et=g(W);try{for(et.s();!(tt=et.n()).done;){var rt=tt.value;e.isArrayInArray(_,rt)&&Y.push(rt)}}catch(Mt){et.e(Mt)}finally{et.f()}}else{i.positionTracker=X.positionTracker;var at,nt=g(_);try{for(nt.s();!(at=nt.n()).done;){var it=at.value;e.isArrayInArray(W,it)&&Y.push(it)}}catch(Mt){nt.e(Mt)}finally{nt.f()}}i.states=Y}if(2===n.data.children.length){for(var lt=d3.line().curve(d3.curveBasisClosed),ot=[],ct=O(e.root,n.children[0].data),st=0;st<ct.length;st++){var ht=ct[st];ot=ot.concat([[ht.x-30.5,ht.y-30.5],[ht.x-30.5,ht.y+150],[ht.x+30.5,ht.y-30.5],[ht.x+30.5,ht.y+30.5]])}e.path.attr("d",lt((0,t.hull)(ot))),e.path.style("opacity",.5)}if(2===n.data.children.length){for(var dt=d3.line().curve(d3.curveBasisClosed),ut=[],ft=O(e.root,n.children[1].data),vt=0;vt<ft.length;vt++){var pt=ft[vt];ut=ut.concat([[pt.x-30.5,pt.y-30.5],[pt.x-30.5,pt.y+150],[pt.x+30.5,pt.y-30.5],[pt.x+30.5,pt.y+30.5]])}e.path2.attr("d",dt((0,t.hull)(ut))),e.path2.style("opacity",.5)}else{e.path2.style("opacity",0);for(var yt=d3.line().curve(d3.curveBasisClosed),gt=[],bt=0;bt<l.length;bt++){var mt=l[bt];gt=gt.concat([[mt.x-30.5,mt.y-30.5],[mt.x-30.5,mt.y+150],[mt.x+30.5,mt.y-30.5],[mt.x+30.5,mt.y+30.5]])}e.path.attr("d",yt((0,t.hull)(gt))),e.path.style("opacity",.5)}var xt="";xt+="<tr>";for(var kt=0;kt<i.positionTracker.length;kt++)xt+="<td><strong>".concat(i.positionTracker[kt],"</strong></td>");xt+="</tr>";var St,wt=g(i.states);try{for(wt.s();!(St=wt.n()).done;){var Nt=St.value;xt+="<tr>";var At,Ct=g(Nt);try{for(Ct.s();!(At=Ct.n()).done;){var Tt=At.value,Ot="";"red"===Tt&&(Ot="red"),"green"===Tt&&(Ot="green"),"blue"===Tt&&(Ot="blue"),xt+='<td class="'.concat(Ot,'">').concat(Tt,"</td>")}}catch(Mt){Ct.e(Mt)}finally{Ct.f()}xt+="</tr>"}}catch(Mt){wt.e(Mt)}finally{wt.f()}C(i);var It=document.getElementById("tooltip-arrow").getBoundingClientRect().top,Bt=document.getElementById("tooltip-arrow").getBoundingClientRect().left;d3.select("#color-table").html(xt).style("opacity",1).style("left","".concat(Bt,"px")).style("top","".concat(It,"px"))}})}},{key:"runThreeColor",value:function(){this.current=0,this.threeColor()}},{key:"getChild",value:function(e){var r=e.children[0];return(0,t.deepClone)(r)}},{key:"getChild2",value:function(e){var r=e.children[1];return(0,t.deepClone)(r)}},{key:"getChildTable",value:function(t){var e=t.children[0];return JSON.parse(JSON.stringify(e)).table}},{key:"getChild2Table",value:function(t){var e=t.children[1];return JSON.parse(JSON.stringify(e)).table}},{key:"getIntroducedVertex",value:function(t){var e=t.vertices,r=t.children[0].vertices;return e.filter(function(t){return!r.includes(t)})[0]}},{key:"getForgottenVertex",value:function(t){return t.children[0].vertices.filter(function(e){return!t.vertices.includes(e)})[0]}},{key:"mis",value:function(){var e=this;this.animX=0;var r=0;this.root.copy().eachAfter(function(a){if(r++,e.current===r){a.data.table={};var n=(0,t.getAllSubsets)(a.data.vertices);n.map(function(t){return t.sort()});var i=O(e.root,a.data),l=e.graph.createSubgraph(i);if(e.graph.highlightSubGraph(l),e.currentSubTree=i,"children"in a.data==!1){if(e.graph.hideTooltip(),e.graph.hideArrow(),e.graph.hideHull(),0===a.data.vertices.length)a.data.table[""]=0;else{var o=a.data.vertices[0];a.data.table[o]=1}var c=d3.select("#treeNode-".concat(a.data.id)),s=parseInt(c.attr("x"),10),h=parseInt(c.attr("y"),10);h+=12.5,d3.select("#tooltip-arrow").style("opacity",1).attr("x1",s-50).attr("y1",h).attr("x2",s).attr("y2",h).attr("transform","translate(".concat(0,", ",30,")"));var d=document.getElementById("tooltip-arrow").getBoundingClientRect().top,u=document.getElementById("tooltip-arrow").getBoundingClientRect().left;d3.select("#tooltip").html(null).style("opacity",1).style("left","".concat(u,"px")).style("top","".concat(d,"px"));for(var f=d3.line().curve(d3.curveBasisClosed),v=[],p=0;p<i.length;p++){var y=i[p];v=v.concat([[y.x-20.5,y.y-20.5],[y.x-20.5,y.y+150],[y.x+20.5,y.y-20.5],[y.x+20.5,y.y+20.5]])}return e.path.attr("d",f((0,t.hull)(v))),void e.path.style("opacity",.3)}if(2===a.data.children.length){e.graph.hideTooltip(),e.graph.hideArrow(),e.graph.hideHull();var b=a.data.children[0],m=JSON.parse(JSON.stringify(b)).table,x=a.data.children[1],k=JSON.parse(JSON.stringify(x)).table,S=O(e.root,a.children[0].data),w=e.graph.createSubgraph(S);e.graph.highlightSubGraph(w);var N=O(e.root,a.children[1].data),A=e.graph.createSubgraph(N);e.graph.highlightSubGraph2(A);var C,T=g(n);try{for(T.s();!(C=T.n()).done;){var I=C.value,B=m[I],M=k[I],E=I.length;a.data.table[I]=B+M-E}}catch(dt){T.e(dt)}finally{T.f()}}if(a.data.vertices.length<a.data.children[0].vertices.length){var J=a.data.children[0].vertices.filter(function(t){return!a.data.vertices.includes(t)});e.graph.addNodeArrow(J,"Forgotten Vertex"),e.graph.resetNodeColors(),e.graph.highlightNodeColor(J,"rgb(251, 128, 114)");var j,R=a.data.children[0],P=JSON.parse(JSON.stringify(R)).table,H=g(n);try{for(H.s();!(j=H.n()).done;){var G=j.value,V=G.concat(J);V.sort();var L=P[G],z=P[V];a.data.table[G]=L>z?L:z}}catch(dt){H.e(dt)}finally{H.f()}}if(a.data.vertices.length>a.data.children[0].vertices.length&&function(){var t=a.data.children[0],r=JSON.parse(JSON.stringify(t)).table;a.data.table=r;var l=a.data.vertices,o=a.data.children[0].vertices,c=l.filter(function(t){return!o.includes(t)})[0];e.graph.addNodeArrow(c,"Introduced Vertex"),e.graph.resetNodeColors(),e.graph.highlightNodeColor(c,"rgb(128, 177, 211)");var s,h=g(n);try{for(h.s();!(s=h.n()).done;){var d=s.value;if(d.includes(c)){var u=d.filter(function(t){return t!==c});if(e.graph.isVertexAdjacent(i,d))a.data.table[d]=-9999;else{var f=r[u];f++,a.data.table[d]=f}}}}catch(dt){h.e(dt)}finally{h.f()}}(),2===a.data.children.length){for(var F=d3.line().curve(d3.curveBasisClosed),q=[],D=O(e.root,a.children[0].data),U=0;U<D.length;U++){var W=D[U];q=q.concat([[W.x-30.5,W.y-30.5],[W.x-30.5,W.y+150],[W.x+30.5,W.y-30.5],[W.x+30.5,W.y+30.5]])}e.path.attr("d",F((0,t.hull)(q))),e.path.style("opacity",.5)}if(2===a.data.children.length){for(var X=d3.line().curve(d3.curveBasisClosed),_=[],Y=O(e.root,a.children[1].data),$=0;$<Y.length;$++){var K=Y[$];_=_.concat([[K.x-30.5,K.y-30.5],[K.x-30.5,K.y+150],[K.x+30.5,K.y-30.5],[K.x+30.5,K.y+30.5]])}e.path2.attr("d",X((0,t.hull)(_))),e.path2.style("opacity",.5)}else{e.path2.style("opacity",0);for(var Q=d3.line().curve(d3.curveBasisClosed),Z=[],tt=0;tt<i.length;tt++){var et=i[tt];Z=Z.concat([[et.x-30.5,et.y-30.5],[et.x-30.5,et.y+150],[et.x+30.5,et.y-30.5],[et.x+30.5,et.y+30.5]])}e.path.attr("d",Q((0,t.hull)(Z))),e.path.style("opacity",.5)}var rt=Object.keys(a.data.table),at=Object.values(a.data.table),nt="";rt.forEach(function(t,e){if(""===t){t="Ø",rt.splice(e,1),rt.unshift(t);var r=at[e];at.splice(e,1),at.unshift(r)}}),rt.forEach(function(t,e){var r=at[e];r<-1e3||("Ø"!==t&&(t="{".concat(t,"}")),nt+="<tr id=".concat(t,' class="mis-row"><td class="sets">').concat(t,"</td><td>").concat(r,"</td></tr>"))});var it='<table><tbody id="tbody">'.concat(nt,"</tbody></table>"),lt=d3.select("#treeNode-".concat(a.data.id)),ot=parseInt(lt.attr("x"),10),ct=parseInt(lt.attr("y"),10);ct+=12.5,d3.select("#tooltip-arrow").style("opacity",1).attr("x1",ot-50).attr("y1",ct).attr("x2",ot).attr("y2",ct).attr("transform","translate(".concat(0,", ",30,")"));var st=document.getElementById("tooltip-arrow").getBoundingClientRect().top,ht=document.getElementById("tooltip-arrow").getBoundingClientRect().left;d3.select("#tooltip").html(it).style("opacity",1).style("left","".concat(ht,"px")).style("top","".concat(st,"px")),d3.selectAll(".sets").on("mouseover",function(){e.highlightMaxSet(d3.event.target.innerText)}),d3.selectAll(".sets").on("mouseleave",function(){d3.selectAll("circle").classed("highlighted-stroke",!1)})}})}},{key:"disableAllAlgorithms",value:function(){this.isMis=!1,this.isThreeColor=!1}},{key:"addColorTable",value:function(){this.colorTable&&this.colorTable.remove(),this.colorTable=d3.select("#main").append("table").style("opacity",0).attr("id","color-table").attr("class","table")}},{key:"addTable",value:function(){this.table&&this.table.remove(),this.table=d3.select("#main").append("table").attr("id","dp-table").attr("class","hamiltonianTable")}},{key:"addTooltip",value:function(){this.tooltip&&this.tooltip.remove(),this.tooltip=d3.select("#main").append("div").attr("id","tooltip").style("position","absolute").style("opacity",0)}},{key:"addArrow",value:function(){this.arrow&&this.arrow.remove(),this.arrow=this.svg.append("line").attr("id","tooltip-arrow").attr("x1",200).attr("y1",100).attr("x2",300).attr("y2",100).attr("marker-end","url(#Triangle)").style("opacity",0)}},{key:"removeColorTable",value:function(){this.colorTable&&this.colorTable.remove()}},{key:"removeMisTable",value:function(){this.tooltip&&this.tooltip.remove()}},{key:"enableMaximumIndependentSet",value:function(){this.removeColorTable(),this.disableAllAlgorithms(),this.addArrow(),this.addTooltip(),this.isMis=!0,this.current=0}},{key:"enableThreeColor",value:function(){this.removeMisTable(),this.disableAllAlgorithms(),this.addArrow(),this.addColorTable(),this.isColor=!0,this.current=0}},{key:"enableHamiltonianPath",value:function(){this.disableAllAlgorithms(),this.isHamiltonianPath=!0}},{key:"next",value:function(){var t=this.root.descendants().length;this.current++,this.current!==t&&(this.current%=t),this.isMis&&this.mis(this.current),this.isColor&&this.threeColor(this.current),this.isHamiltonianPath&&this.hamiltonianPath(this.current)}},{key:"previous",value:function(){if(0!==this.current){var t=this.root.descendants().length;--this.current,this.current%=t,this.isMis&&this.mis(this.current),this.isColor&&this.threeColor(this.current),this.isHamiltonianPath&&this.hamiltonianPath(this.current)}}},{key:"setAllG",value:function(){var t=this;this.root.eachAfter(function(e){e.tree=t})}},{key:"load",value:function(t,r){this.svg&&this.clear();var a=document.getElementById(this.container).offsetHeight,n=document.getElementById(this.container).offsetWidth;this.treeData=t,this.height=a,this.width=n,"normal-tree"===this.type&&(n/=2,a/=3);var i=d3.select("#".concat(this.container)).append("svg").attr("width",n).attr("height",a),l=d3.hierarchy(t),o=d3.tree();o.size([n,a-80]),o(l),this.root=l,this.treeLayout=o,this.nodes=l.descendants(),i.append("marker").attr("id","triangle").attr("viewBox","0 0 10 10").attr("refX",10).attr("refY",5).attr("markerWidth",3.5).attr("markerHeight",3.5).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("fill","rgb(51, 51, 51)"),this.svg=i,this.svg.on("contextmenu",function(){return d3.event.preventDefault()}),this.path=this.svg.append("path").attr("fill","orange").attr("stroke","orange").attr("stroke-width",16).attr("opacity",0),this.path2=this.svg.append("path").attr("fill","steelblue").attr("stroke","steelblue").attr("stroke-width",16).attr("opacity",0),i.selectAll("line").data(l.links()).enter().append("line").attr("class","tree-link").attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}).lower().attr("transform","translate(".concat(0,", ",30,")")),"normal-tree"===this.type?i.selectAll("circle").data(l.descendants()).enter().append("circle").attr("id",function(t){return"treeNode-".concat(t.data.id)}).attr("r",18).attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("class","normal-tree-node").attr("transform","translate(".concat(0,", ",30,")")):i.selectAll("rect").data(l.descendants()).enter().append("rect").attr("id",function(t){return"treeNode-".concat(t.data.id)}).attr("width",function(t){return 25*t.data.label.split(",").length}).attr("height",25).attr("x",function(t){return t.x-25*t.data.label.split(",").length/2}).attr("y",function(t){return t.y}).attr("rx",5).attr("ry",5).attr("transform","translate(".concat(0,", ",30,")")).attr("class","tree-node").style("fill",function(t){return"children"in t.data==!1||0===t.data.children.length?S(9):2===t.data.children.length?S(6):t.data.vertices.length>t.data.children[0].vertices.length?S(5):t.data.vertices.length<t.data.children[0].vertices.length?S(4):void 0}).on("contextmenu",d3.contextMenu(e.contextMenu)),i.selectAll("text").data(l.descendants()).enter().append("text").attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("dy",function(){return"normal-tree"===r?".-25em":"17px"}).attr("class",function(){return"normal-tree"===r?"label":"graph-label"}).text(function(t){return"normal-tree"===r?t.data.label:"children"in t.data!=!1&&0!==t.data.children.length?2===t.data.children.length?"& ".concat(t.data.label):t.data.vertices.length>t.data.children[0].vertices.length?"+ ".concat(t.data.label):t.data.vertices.length<t.data.children[0].vertices.length?"- ".concat(t.data.label):t.data.label:void 0}).attr("transform","translate(".concat(0,", ",30,")")),this.setAllG()}}]),r}();exports.default=I;
},{"../Utilities/helpers.js":"jR25","./TreeContextMenu.js":"kwgG"}],"N1Qw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./ContextMenu.js");function t(e){return s(e)||i(e)||r(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function i(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function s(e){if(Array.isArray(e))return o(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}var d=function(){function n(e,t){c(this,n),this.container=e,this.nodes=[],this.links=[],this.lastNodeId=0,this.graphOfTd=t}return l(n,[{key:"isConnected",value:function(){var e=1,t=2;if(0!==this.nodes.length){e=1,this.nodes.forEach(function(e){e.visited=!1});var n={};this.nodes.forEach(function(e){n[e.id]=[]}),this.links.forEach(function(e){n[e.source.id].push(e.target),n[e.target.id].push(e.source)});var r=[];for(r.push(this.nodes[0]);r.length>0;){for(var i=r.shift(),s=n[i.id],o=0;o<s.length;o++){var a=s[o];a.visited||r.push(a)}if(i.visited=!0,i.cluster=t.toString(),0===r.length)for(var c=0;c<this.nodes.length;c++)if(!this.nodes[c].visited){r.push(this.nodes[c]),e++,t++;break}}this.componentCount=e;var u=1===e;return u}e=0}},{key:"isTree",value:function(){return!(!this.isConnected()||this.nodes.length-1!==this.links.length)}},{key:"areNodesInTree",value:function(){var e=this;return this.graphOfTd.nodes.every(function(t){return e.masterNodes.includes(t.id)})}},{key:"isEveryGraphLinkInTree",value:function(){var e=this;return this.graphOfTd.links.every(function(t){for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(void 0!==r.vertices&&(r.vertices.includes(t.source.id)&&r.vertices.includes(t.target.id)))return!0}return!1})}},{key:"checkConnectivity",value:function(e,t){var n=1,r=2;if(0!==e.length){n=1,e.forEach(function(e){e.visited=!1});var i={};e.forEach(function(e){i[e.id]=[]}),t.forEach(function(e){i[e.source.id].push(e.target),i[e.target.id].push(e.source)});var s=[];for(s.push(e[0]);s.length>0;){for(var o=s.shift(),a=i[o.id],c=0;c<a.length;c++){var u=a[c];u.visited||s.push(u)}if(o.visited=!0,o.cluster=r.toString(),0===s.length)for(var l=0;l<e.length;l++)if(!e[l].visited){s.push(e[l]),n++,r++;break}}return this.componentCount=n,{subGraphNodes:e,subGraphLinks:t,isDisconnected:n>1}}n=0}},{key:"checkCoherence",value:function(){var e=this;console.log(this.nodes);for(var t=0;t<this.graphOfTd.nodes.length;t++){var n=this.graphOfTd.nodes[t];n.counter=0;for(var r=0;r<this.nodes.length;r++){var i=this.nodes[r];void 0!==i.vertices&&(i.vertices.includes(n.id)&&n.counter++)}}for(var s=this.graphOfTd.nodes.filter(function(e){return e.counter>1}),o=function(t){var n=s[t],r=e.nodes.filter(function(e){if(e.vertices)return e.vertices.includes(n.id)}),i=e.links.filter(function(e){return r.includes(e.source)&&r.includes(e.target)}),o=e.checkConnectivity(r,i);if(console.log(o),o.isDisconnected)return{v:!1}},c=0;c<s.length;c++){var u=o(c);if("object"===a(u))return u.v}return!0}},{key:"checkTreeDecomposition",value:function(){var e,t,n,r,i;e=this.isTree()?'Tree decomposition is a tree  <span class="material-icons correct-answer">check</span>':'Tree decomposition must be a tree. <span class="material-icons wrong-answer">clear</span>',t=this.areNodesInTree()?'Node coverage  <span class="material-icons correct-answer">check</span>':'Node coverage <span class="material-icons wrong-answer">clear</span>',n=this.isEveryGraphLinkInTree()?'Edge coverage <span class="material-icons correct-answer">check</span>':'Edge coverage <span class="material-icons wrong-answer">clear</span>',r=this.checkCoherence()?'Coherence <span class="material-icons correct-answer">check</span>':'Coherence <span class="material-icons wrong-answer">clear</span>',i=this.isTree()&&this.areNodesInTree()&&this.isEveryGraphLinkInTree()&&this.checkCoherence()?'This is a valid tree decomposition <span class="material-icons correct-answer">check</span>':'This is not a valid tree decomposition <span class="material-icons wrong-answer">clear</span>',d3.select("#output").html("\n      <div>".concat(e,"</div>\n      <div>").concat(t,"</div>\n      <div>").concat(n,"</div>\n      <div>").concat(r,"</div>\n      <div>").concat(i,"</div>\n    "))}},{key:"updateMasterList",value:function(){var e=[];this.nodes.forEach(function(t){t.vertices&&(e=e.concat(t.vertices))});var n=t(new Set(e));this.masterNodes=n}},{key:"removeEdge",value:function(e){this.links.splice(this.links.indexOf(e),1),d3.event.preventDefault(),this.restart()}},{key:"restart",value:function(){var t=this;this.updateMasterList(),this.svg.selectAll("line").data(this.links,function(e){return"v".concat(e.source.id,"-v").concat(e.target.id)}).join(function(e){return e.append("line").lower().attr("class","tree-link").on("contextmenu",function(e){return t.removeEdge(e)})},function(e){return e},function(e){return e.remove()}),this.svg.selectAll("ellipse").data(this.nodes,function(e){return e.id}).join(function(n){n.append("ellipse").attr("rx",30).attr("ry",25).style("fill","#2ca02c").style("stroke","rgb(51, 51, 51)").style("stroke-width","3.5px").on("mouseover",function(){return t.disableAddNode()}).on("mouseleave",function(){return t.enableAddNode()}).on("mousedown",function(e){return t.beginDrawLine(e)}).on("mouseup",function(e){return t.stopDrawLine(e)}).on("contextmenu",d3.contextMenu(e.contextMenu))},function(e){return e.attr("rx",function(e){return e.label&&e.label.length>2?8*e.label.length:30})},function(e){return e.remove()}),this.svg.selectAll("text").data(this.nodes,function(e){return e.id}).join(function(e){return e.append("text").attr("dy",4.5).text(function(e){return e.label}).attr("class","graph-label")},function(e){return e.text(function(e){return e.label})},function(e){return e.remove()}),this.simulation.force("link").links(this.links),this.simulation.nodes(this.nodes),this.simulation.alpha(.5).restart(),this.checkTreeDecomposition()}},{key:"setg",value:function(){var e=this;this.nodes.forEach(function(t){t.graph=e})}},{key:"addNode",value:function(){if(!1!==this.canAddNode){var e=d3.event;if(0===e.button){var t=d3.mouse(e.currentTarget),n={x:t[0],y:t[1],id:++this.lastNodeId};this.nodes.push(n),this.setg(),this.restart()}}}},{key:"enableAddNode",value:function(){this.canAddNode=!0}},{key:"disableAddNode",value:function(){this.canAddNode=!1}},{key:"removeNode",value:function(e){var t=this;d3.event.preventDefault(),this.links.filter(function(t){return t.source===e||t.target===e}).map(function(e){return t.links.splice(t.links.indexOf(e),1)});var n=this.nodes.indexOf(e);this.nodes.splice(n,1),this.restart()}},{key:"leftCanvas",value:function(){this.dragLine.classed("hidden",!0),this.mousedownNode=null}},{key:"updateDragLine",value:function(){if(this.mousedownNode){var e=d3.mouse(d3.event.currentTarget);this.dragLine.attr("d","M".concat(this.mousedownNode.x,",").concat(this.mousedownNode.y,"L").concat(e[0],",").concat(e[1]))}}},{key:"hideDragLine",value:function(){this.svg.selectAll("ellipse").style("fill","#2ca02c"),this.dragLine.classed("hidden",!0),this.mousedownNode=null,this.restart()}},{key:"beginDrawLine",value:function(e){this.svg.selectAll("ellipse").filter(function(t){return t===e}).style("fill","orange"),d3.event.ctrlKey||(d3.event.preventDefault(),this.mousedownNode=e,this.dragLine.classed("hidden",!1).attr("d","M".concat(this.mousedownNode.x,",").concat(this.mousedownNode.y,"L").concat(this.mousedownNode.x,",").concat(this.mousedownNode.y)))}},{key:"stopDrawLine",value:function(e){if(this.svg.selectAll("ellipse").style("fill","#2ca02c"),this.mousedownNode&&this.mousedownNode!==e){for(var t=0;t<this.links.length;t++){var n=this.links[t];if(n.source===this.mousedownNode&&n.target===e||n.source===e&&n.target===this.mousedownNode)return}var r={source:this.mousedownNode,target:e};this.links.push(r)}}},{key:"clear",value:function(){this.svg&&this.svg.remove(),this.nodes=[],this.links=[]}},{key:"enableDrawing",value:function(){var e=this;this.svg&&this.clear();var t=document.getElementById(this.container).offsetWidth,n=document.getElementById(this.container).offsetHeight;this.width=t,this.height=n;var r=d3.select("#".concat(this.container)).append("svg").attr("width",t).attr("height",n);this.svg=r,this.svg.style("cursor","crosshair"),this.restartSimulation(),this.svg.on("mousedown",function(){return e.addNode()}).on("contextmenu",function(){return d3.event.preventDefault()}).on("mousemove",function(){return e.updateDragLine()}).on("mouseup",function(){return e.hideDragLine()}).on("mouseleave",function(){return e.leftCanvas()}),this.dragLine=this.svg.append("path").attr("class","dragLine hidden").attr("d","M0,0L0,0")}},{key:"restartSimulation",value:function(){var e=this,t=d3.forceSimulation().force("x",d3.forceX(this.width/2).strength(.1)).force("y",d3.forceY(this.height/2).strength(.1)).nodes(this.nodes).force("charge",d3.forceManyBody().strength(-900)).force("link",d3.forceLink(this.links).id(function(e){return e.id}).distance(100).strength(.05)).force("collision",d3.forceCollide().radius(function(e){return e.rx+100})).on("tick",function(){e.svg.selectAll("ellipse").attr("transform",function(e){return"translate(".concat(e.x,",").concat(e.y,")")}),e.svg.selectAll("text").attr("x",function(e){return e.x}).attr("y",function(e){return e.y}),e.svg.selectAll("line").attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y})});t.force("link").links(this.links),this.simulation=t}}]),n}();exports.default=d;
},{"./ContextMenu.js":"cEaq"}],"ZtE3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cliqueGraph=exports.gridGraph=exports.exampleGraph4=exports.exampleGraph3=exports.exampleGraph2=exports.exampleGraph=exports.graph1=void 0;var e={nodes:[{id:0},{id:1},{id:2},{id:3},{id:4},{id:5},{id:6},{id:7}],links:[{source:1,target:2},{source:2,target:3},{source:2,target:4},{source:3,target:5},{source:3,target:6},{source:4,target:6},{source:4,target:7},{source:6,target:7},{source:5,target:6}]};exports.graph1=e;var r={nodes:[{id:1},{id:2},{id:3},{id:4},{id:5},{id:6},{id:7},{id:8},{id:9},{id:10}],links:[{source:1,target:2},{source:1,target:3},{source:1,target:4},{source:1,target:5},{source:1,target:6},{source:1,target:7},{source:1,target:8},{source:1,target:9},{source:1,target:10},{source:5,target:8},{source:8,target:3},{source:3,target:6},{source:6,target:9},{source:9,target:4},{source:4,target:7},{source:7,target:2},{source:2,target:10},{source:10,target:5}]};exports.exampleGraph=r;var t={nodes:[{id:1},{id:2},{id:3},{id:4},{id:5},{id:6},{id:7},{id:8},{id:9},{id:10}],links:[{source:1,target:2},{source:2,target:3},{source:5,target:1},{source:1,target:6},{source:2,target:7},{source:3,target:8},{source:4,target:9},{source:5,target:10},{source:3,target:1}]};exports.exampleGraph2=t;var s={nodes:[{id:1},{id:2},{id:3},{id:4},{id:5},{id:6},{id:7},{id:8},{id:9}],links:[{source:1,target:2},{source:3,target:1},{source:7,target:5},{source:5,target:2},{source:8,target:6},{source:6,target:4},{source:6,target:3},{source:4,target:3},{source:4,target:9}]};exports.exampleGraph3=s;var a={nodes:[{id:1},{id:2},{id:3},{id:4}],links:[{source:1,target:2},{source:1,target:3},{source:2,target:3},{source:2,target:4},{source:4,target:3}]};exports.exampleGraph4=a;var o={nodes:[{id:1},{id:2},{id:3},{id:4},{id:5},{id:6},{id:7},{id:8},{id:9}],links:[{source:1,target:2},{source:2,target:3},{source:4,target:5},{source:5,target:6},{source:7,target:8},{source:8,target:9},{source:1,target:4},{source:4,target:7},{source:2,target:5},{source:5,target:8},{source:3,target:6},{source:6,target:9}]};exports.gridGraph=o;var u={nodes:[{id:1},{id:2},{id:3},{id:4},{id:5}],links:[{source:1,target:2},{source:1,target:3},{source:1,target:4},{source:1,target:5},{source:2,target:3},{source:2,target:4},{source:2,target:5},{source:3,target:4},{source:3,target:5},{source:4,target:5}]};exports.cliqueGraph=u;
},{}],"mXxD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("../Components/Section.js")),t=i(require("../Components/Graph.js")),n=i(require("../Components/Tree.js")),r=i(require("../Components/TreeDecomposition.js")),o=require("../Utilities/graphs.js"),a=require("../Utilities/helpers.js");function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function c(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(p){return void n(p)}s.done?t(c):Promise.resolve(c).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){d(a,r,o,i,s,"next",e)}function s(e){d(a,r,o,i,s,"throw",e)}i(void 0)})}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}var f=function(){function i(a,s){var c=this;l(this,i),this.sidebar=a,this.currentSectionIndex=0,this.currentChapter=s,window.sectionHandler=this,this.sections=[new e.default(h(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.sidebar.addContent("\n          <p>Before we explore treewidth there is one concept that we must familiarize ourselves with.</p>\n\n          <p>That is the concept of a <strong>graph separator</strong>.</p>\n          \n          <p>We say that a set \\( S \\) is a graph separator in a graph \\( G \\) if the removal of that set from \\( G \\) leaves \\( G \\) into multiple connected components.</p>\n\n          <p>In later chapters it becomes clear why we study graph separators. There are different types of graph separators we will cover those who are most relevant to treewidth in this chapter.</p>\n\n          <p><i>Click on a vertex in the graph to see if it separates the graph.</i></p>\n          "),c.sidebar.addExercise("Find one or multiple vertices that would separate the graph into different components."),d3.select("#output").append("div").attr("id","separator-output"),(n=new t.default("container")).loadGraph(o.exampleGraph3),n.toggleSeparatorExercise();case 6:case"end":return e.stop()}},e)})),"chapter1"),new e.default(h(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.sidebar.addContent("\n          <p>Let \\( S \\) be a separator in some graph \\( G \\). We say that \\( S\\) is a <strong>minimal separator</strong> if no proper subset separates the graph \\( G \\)\n\n          <p>In other words if some graph has a separator set \\( S = \\{ a,b \\} \\) then \\( a \\) on its own cannot separate the graph neither can \\( b \\).</p>\n          "),c.sidebar.addExercise("Find a minimal separator in the graph."),d3.select("#output").append("div").attr("id","separator-output"),(n=new t.default("container")).loadGraph(o.exampleGraph3),n.resetExercises(),n.toggleMinimalSeparatorExercise();case 7:case"end":return e.stop()}},e)})),"chapter1"),new e.default(h(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.sidebar.addContent("\n          <p>Let \\( S \\) be a separator in some graph \\( G \\). We say that \\( S \\) is a balanced separator if every component of \\( G - S \\) has \\( \\leq V(G) \\).</p>\n\n          <p>That is every component after you remove \\( S \\) should contain less than or equal amounts of vertices to the amount of vertices in the original graph divided by 2.</p>\n          "),c.sidebar.addExercise("Find a balanced separator in the graph."),d3.select("#output").append("div").attr("id","separator-output"),(n=new t.default("container")).loadGraph(o.exampleGraph3),n.resetExercises(),n.toggleBalanceSeparatorExercise();case 7:case"end":return e.stop()}},e)})),"chapter1"),new e.default(h(regeneratorRuntime.mark(function e(){var n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.sidebar.addContent('\n          <p>Informally we can describe the <strong>treewidth</strong> of a graph to be a tree "build" from its separators that we saw in the previous chapter.</p>\n\n          <p>More formally we define the treewidth of a graph using the notion of <strong>tree decompositions.</strong></p>\n\n          <p>A tree decomposition of a graph is a mapping of that graph into a tree adhering to certain properties.</p>\n\n          <p>On the right you see a graph \\( G \\) and one of its tree decompositions \\( T \\).\n            \n            '),n=new t.default("graph-container"),c.graph=n,c.graph.loadGraph(o.graph1,"graph-container","graph"),e.next=6,c.graph.computeTreeDecomposition();case 6:return e.next=8,c.graph.readTreeDecomposition();case 8:r=c.graph.getTreeDecomposition(),(a=new t.default("tree-container")).loadGraph(r,"tree",c.graph),c.treeDecomposition=a;case 12:case"end":return e.stop()}},e)})),"chapter2"),new e.default(h(regeneratorRuntime.mark(function e(){var n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.sidebar.addContent('\n              <p>We refer to each node in the tree decomposition as a "bag".</p>\n              \n              <p>Each bag contains some vertices of the the graph.</p>\n              '),c.sidebar.addExercise("Try to hover over a bag to see its related vertices."),(n=new t.default("graph-container")).loadGraph(o.graph1),e.next=6,n.computeTreeDecomposition();case 6:return e.next=8,n.readTreeDecomposition();case 8:r=n.getTreeDecomposition(),(a=new t.default("tree-container")).loadGraph(r,"tree",n),a.toggleHoverEffect();case 12:case"end":return e.stop()}},e)})),"chapter2"),new e.default(h(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.sidebar.addContent("\n            <p>We say that a tree decomposition is valid if it contains the following 3 properties.</p>\n\n            <p><strong>Property 1 (Node Coverage):</strong> Every vertex that appears in the graph must appear in some bag of the tree decomposition. </p>\n            \n            <p>We will check every vertex in the graph and highlight the bag in the tree decompostion containing that vertex.</p>\n            "),(n=new t.default("graph-container")).loadGraph(o.graph1),e.next=5,n.computeTreeDecomposition();case 5:return e.next=7,n.readTreeDecomposition();case 7:r=n.getTreeDecomposition(),new t.default("tree-container").loadGraph(r,"tree",c.graph),c.sidebar.addButton("Replay animation",function(){return c.graph.runNodeCoverage()}),n.runNodeCoverage();case 12:case"end":return e.stop()}},e)})),"chapter2"),new e.default(h(regeneratorRuntime.mark(function e(){var n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.sidebar.addContent("\n            Property 2 <strong>(Edge coverage):</strong> For every edge that appears in the graph there is some bag in the tree decomposition which contains the vertice\n            s of both ends of the edge.<br/><br/> Lets check if this holds true for our graph and tree decomposition.\n            "),(n=new t.default("graph-container")).loadGraph(o.graph1),e.next=5,n.computeTreeDecomposition();case 5:return e.next=7,n.readTreeDecomposition();case 7:r=n.getTreeDecomposition(),(a=new t.default("tree-container")).loadGraph(r,"tree",n),c.sidebar.addButton("Replay animation",function(){return c.graph.runEdgeCoverage()}),n.stopAllTransitions(),a.stopAllTransitions(),n.resetNodeStyling(),a.resetTreeDecompositionStyles(),n.runEdgeCoverage();case 16:case"end":return e.stop()}},e)})),"chapter2"),new e.default(h(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.sidebar.addContent("\n            <p><strong>Property 3 (Coherence):</strong> Lets consider 3 bags of the tree decomposition: \\( b_1 \\), \\( b_2 \\) and \\( b_3 \\) that form a path in the tree decomposition.</p>\n\n            <p>If a vertex from the graph belongs to \\( b_1 \\) and \\( b_3 \\) it must also belong to \\( b_2 \\).</p>\n            \n            <p>Lets check this by going through the vertices in the graph like we did at property 1. And if a node is in multiple bags it MUST form a connected subtree in the tree decomposition.</p>\n            "),(n=new t.default("graph-container")).loadGraph(o.graph1),e.next=5,n.computeTreeDecomposition();case 5:return e.next=7,n.readTreeDecomposition();case 7:r=n.getTreeDecomposition(),new t.default("tree-container").loadGraph(r,"tree",n),c.sidebar.addButton("Replay animation",function(){return n.highlightCoherence()}),n.highlightCoherence();case 12:case"end":return e.stop()}},e)})),"chapter2"),new e.default(h(regeneratorRuntime.mark(function e(){var n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.sidebar.addContent("\n            <p>Since all 3 properties hold true we have proofed that the tree on the right side is a valid tree decomposition of the graph on the left side.</p>\n\n            <p>Is this the only valid tree decomposition of this graph? <br><br> No, a graph can have multiple valid tree decompositions.</p>\n            \n            <p>Lets take a look at some other valid tree decompositions of this graph.</p>\n\n            <p><strong>Example:</strong> The trivial tree decomposition of this graph contains all the graphs vertices in one bag.</p>\n            "),(n=new t.default("graph-container")).loadGraph(o.graph1),r=new t.default("tree-container"),a=n.computeTrivialTreeDecomposition(),r.loadGraph(a,"tree");case 6:case"end":return e.stop()}},e)})),"chapter2"),new e.default(h(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.sidebar.addContent("This is another valid tree decomposition of the graph."),n={nodes:[{id:1,label:"1 2"},{id:2,label:"2 3 4"},{id:3,label:"3 4 5 6 7"}],links:[{source:1,target:2},{source:2,target:3}]},new t.default("graph-container").loadGraph(o.graph1),new t.default("tree-container").loadGraph(n,"tree");case 6:case"end":return e.stop()}},e)})),"chapter2"),new e.default(h(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.sidebar.addExercise("Is this a valid tree decomposition of the graph?"),n={nodes:[{id:1,label:"1 2"},{id:2,label:"2 3 4"},{id:3,label:"1 3 4 5 6 7"}],links:[{source:1,target:2},{source:2,target:3}]},new t.default("graph-container").loadGraph(o.graph1),new t.default("tree-container").loadGraph(n,"tree"),c.sidebar.addQuiz(),c.sidebar.addChoice("Yes",!1),c.sidebar.addChoice("No",!0),c.sidebar.addSolution("Since the vertex 1 is in 2 bags it must form a connected subtree but in this tree it does not. Recall property 3.");case 10:case"end":return e.stop()}},e)})),"chapter2"),new e.default(h(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.sidebar.addExercise("Is this a valid tree decomposition of the graph?"),new t.default("graph-container").loadGraph(o.graph1),c.sidebar.addQuiz(),c.sidebar.addChoice("Yes.",!0),c.sidebar.addChoice("No.",!1),c.sidebar.addSolution("It satisfies all the properties of a tree decomposition thus it is valid."),n={nodes:[{id:1,label:"1 2"},{id:2,label:"2 3 4 5"},{id:3,label:"3 4 5"},{id:4,label:"4 5 6"}],links:[{source:1,target:2},{source:2,target:3},{source:2,target:4}]},new t.default("tree-container").loadGraph(n,"tree");case 10:case"end":return e.stop()}},e)})),"chapter2"),new e.default(h(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.sidebar.addContent("\n            <p>If there are different tree decompositions for a graph how do know which ones to use?</p>\n\n            <p>We want to use the tree decompositions with the lowest possible vertices in it's largest bag, as this make many algorithms that exploit tree decomposition more effective.</p>\n\n            <p><strong>Definition:</strong> We say that the <strong>width</strong> of a tree decomposition is the the size of the largest bag of that tree decomposition - 1.</p>\n\n            <p><strong>Definition:</strong> The <strong>treewidth</strong> of a graph is the minimum width amongst all the tree decompositions of \\( G \\).</p>\n            "),c.sidebar.addExercise("What is the width of the current tree decomposition?"),(n=new t.default("graph-container")).loadGraph(o.graph1),e.next=6,n.computeTreeDecomposition();case 6:return e.next=8,n.readTreeDecomposition();case 8:r=n.getTreeDecomposition(),new t.default("tree-container").loadGraph(r,"tree"),c.sidebar.addQuiz(),c.sidebar.addChoice("1",!1),c.sidebar.addChoice("2",!0),c.sidebar.addChoice("3",!1),c.sidebar.addSolution("The treewidth of a tree decomposition is the size of the largest bag - 1.");case 16:case"end":return e.stop()}},e)})),"chapter2"),new e.default(h(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.sidebar.addExercise("What about this one? What is the width?"),n={nodes:[{id:1,label:"1 2"},{id:2,label:"2 3 4"},{id:3,label:"3 4 5 6 7"}],links:[{source:1,target:2},{source:2,target:3}]},new t.default("graph-container").loadGraph(o.graph1),c.sidebar.addQuiz(),c.sidebar.addChoice("2",!1),c.sidebar.addChoice("4",!0),c.sidebar.addChoice("5",!1),c.sidebar.addSolution("4 Since the largest bag contains 5 vertices."),new t.default("tree-container").loadGraph(n,"tree");case 11:case"end":return e.stop()}},e)})),"chapter2"),new e.default(h(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n={nodes:[{id:1,label:"1 2"},{id:2,label:"2 3 4"},{id:3,label:"1 3 4 5 6 7"}],links:[{source:1,target:2},{source:2,target:3}]},new t.default("graph-container").loadGraph(o.graph1),c.sidebar.addExercise("\n            Lets check one more. What is the width?            \n            "),c.sidebar.addQuiz(),c.sidebar.addChoice("2",!1),c.sidebar.addChoice("4",!1),c.sidebar.addChoice("5",!0),c.sidebar.addSolution("5 Since the largest bag contains 6 vertices."),new t.default("tree-container").loadGraph(n,"tree");case 11:case"end":return e.stop()}},e)})),"chapter2"),new e.default(h(regeneratorRuntime.mark(function e(){var n,r,a,i,s,p,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.sidebar.addContent("\n            <p>Lets assume that the 3 tree decompositions you see on the right are ALL of the possible tree decompositions of the graph \\( G \\). (This is not true but for this exercise we will make this assumption)</p>\n        \n            "),c.sidebar.addExercise("What is the <strong>treewidth</strong> of the <strong>graph \\( G \\)</strong>?"),(n=new t.default("graph-container")).loadGraph(o.graph1),d3.select("#tree-container").style("display","flex").style("flex-direction","column"),d3.select("#tree-container").append("div").attr("id","tree1").style("display","flex").style("flex","0.33"),d3.select("#tree-container").append("div").attr("id","tree2").style("display","flex").style("flex","0.33"),d3.select("#tree-container").append("div").attr("id","tree3").style("display","flex").style("flex","0.33"),e.next=10,n.computeTreeDecomposition();case 10:return e.next=12,n.readTreeDecomposition();case 12:r=n.getTreeDecomposition(),a={nodes:[{id:1,label:"1 2"},{id:2,label:"2 3 4"},{id:3,label:"1 3 4 5 6 7"}],links:[{source:1,target:2},{source:2,target:3}]},i={nodes:[{id:1,label:"1 2"},{id:2,label:"2 3 4 5"},{id:3,label:"3 4 5"},{id:4,label:"4 5 6"}],links:[{source:1,target:2},{source:2,target:3},{source:2,target:4}]},s=new t.default("tree1"),p=new t.default("tree2"),d=new t.default("tree3"),c.tree1=s,c.tree2=p,c.tree3=d,s.loadGraph(r,"tree"),p.loadGraph(a,"tree"),d.loadGraph(i,"tree"),c.sidebar.addQuiz(),c.sidebar.addChoice("2",!0),c.sidebar.addChoice("5",!1),c.sidebar.addChoice("3",!1),c.sidebar.addSolution("The correct answer is 2. Recall that the treewidth of a graph is the minimum width amonst all of the possible tree decompositions.");case 29:case"end":return e.stop()}},e)})),"chapter2"),new e.default(h(regeneratorRuntime.mark(function e(){var n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.sidebar.addContent("\n            <p>We will now put our attention towards understanding how graph separators work in tree decompositions. If you dont recall the concept of graph separators go through chapter 2.</p>\n\n            <p>Each bag in the tree decomposition act as a separator in the graph.</p>\n\n            <p>For example the bag containing 2 3 4 separates 1 and 5 6 7 in the graph.</p>\n            "),c.sidebar.addExercise("Hover over a bag in the tree decomposition to see how it separates the graph."),(n=new t.default("graph-container")).loadGraph(o.graph1),e.next=6,n.computeTreeDecomposition();case 6:return e.next=8,n.readTreeDecomposition();case 8:r=n.getTreeDecomposition(),(a=new t.default("tree-container")).loadGraph(r,"tree",n),a.toggleSeparator();case 12:case"end":return e.stop()}},e)})),"chapter2"),new e.default(h(regeneratorRuntime.mark(function e(){var n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.sidebar.addContent("\n          <p>Why are separators useful?</p>\n          \n          <p>Recall the property of coherence.</p>\n          \n          <p><strong>Coherence:</strong> Coherence ensures that it can be separated in a 'tree-like' way. </p>\n          \n          <p>If \\( T' \\) is a subtree of \\( T \\) we use \\( G_{T'} \\) to denote the subgraph of \\( G \\) induced by the nodes of in all pieces of associated with \\( T' \\).</p>\n          \n          <p>Lets now consider if we were to remove a node \\( t \\) of \\( T \\).</p>\n          \n          <p><strong>Theorem 1:</strong> Suppose that \\(T - t \\) has components \\( T_1 , ... , T_d \\).</p>\n\n          <p>Then the subgraphs induced $$ G_{T_1} - V_t , G_{T_2} - V_t,...,G_{T_d} - V_t $$\n          have no nodes in common, and there are no edges between them.</p>\n\n          <p><strong>Proof:</strong> We first prove that the induced subgraphs \\( G_{T_i} - V_t \\) do not share any vertices.</p>\n          \n          <p>If such a vertex was shared by the subgraphs then it would have to belong to 2 distinct subgraphs \\( G_{T_i} - V_t \\) and \\( G_{T_j} - V_t \\).</p>\n          \n          <p>That vertex would then belong to one of the bags in the subtree \\( T_i \\) and in some bag of the subtree \\( T_j \\).</p>\n\n          <p>Since the removed \\( t \\) lies on a path in \\( T \\) following the cohorence property we can see that such a vertex would neither belong to \\( T_i \\) nor \\( T_j \\).</p>\n            "),(n=new t.default("graph-container")).loadGraph(o.graph1),e.next=5,n.computeTreeDecomposition();case 5:return e.next=7,n.readTreeDecomposition();case 7:r=n.getTreeDecomposition(),(a=new t.default("tree-container")).loadGraph(r,"tree",n),a.toggleCoherenceProof();case 11:case"end":return e.stop()}},e)})),"chapter2"),new e.default(h(regeneratorRuntime.mark(function e(){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.sidebar.addContent("Lets test your knowledge of the tree decomposition properties.\n          \n          <p><strong>Add bags</strong> for the tree decomposition by clicking anywhere in the highlighted space.</p>\n          \n          <p><strong>Add edges</strong> between bags by dragging and clicking on a node.</p>\n\n          <p><strong>Change</strong> which vertices should be contained inside each bag by right-clicking and select set value. Separate each vertix using a comma.</p>\n\n          <p>(Example: If you wanted 1, 2 and 3 contained in a bag, write it as such: 1,2,3)</p>\n\n          <p><strong>Delete a bag</strong> by right-clicking and click delete bag.</p>\n\n          <p><strong>Remove an edge</strong> by right-clicking on it.</p>\n          "),c.sidebar.addExercise("Draw the tree tree decompostion of the graph \\( G \\)."),(n=new t.default("graph-container")).randomGraph(),o=new r.default("tree-container",n),c.td=o,o.enableDrawing();case 7:case"end":return e.stop()}},e)})),"chapter2"),new e.default(h(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.sidebar.addContent('\n           <p class="fact"><span class="fact-title">Fact:</span> The treewidth of clique \\( k \\) is \\( k - 1\\)</p>\n\n           <p>As you can tell by the graph and its tree decomposition a clique has a large treewidth. An optimal tree decomposition of a clique is basically the trivial decomposition.</p>\n          '),(n=new t.default("graph-container")).loadGraph(o.cliqueGraph),e.next=5,n.computeTreeDecomposition();case 5:return e.next=7,n.readTreeDecomposition();case 7:r=n.getTreeDecomposition(),new t.default("tree-container").loadGraph(r,"tree",n);case 10:case"end":return e.stop()}},e)})),"chapter2"),new e.default(h(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.sidebar.addContent('\n           <p class="fact"><span class="fact-title">Fact:</span> For every \\( k \\geq 2\\), the treewidth of the \\( k\\) x \\( k \\) grid is exactly \\( k \\)</p>\n\n           <p>Consider the \\( 3\\) x \\( 3 \\) grid on the right. Intuitively we can see there is no way we can separate this graph using less than \\( 3 \\) vertices.</p>\n          \n          '),(n=new t.default("graph-container")).loadGraph(o.gridGraph),e.next=5,n.computeTreeDecomposition();case 5:return e.next=7,n.readTreeDecomposition();case 7:r=n.getTreeDecomposition(),new t.default("tree-container").loadGraph(r,"tree",n);case 10:case"end":return e.stop()}},e)})),"chapter2"),new e.default(h(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.sidebar.addContent('\n          <p>One part that you might have noticed that we left out is how do we construct these tree decompositions?</p>\n\n          <p>This is because an algorithm that constructs a tree decomposition given a graph is far from a trivial thing to do.\n          This in of itself could be a chapter. We have decided to rather focus on the properties of tree decompositions and how algorithms exploit them.</p>\n\n          <p>All that is needed to know for this interactive course is that it is NP-Hard to determine the treewidth of a graph. \n          However there exists approximation algorithms that can find that provides an approximate treewidth given a graph. \n          (<a href="https://www.sciencedirect.com/science/article/pii/S0304397597002284?via%3Dihub">Bodlaender et al. 2016</a>)</p>\n\n          <p>This also means discovering if a tree decomposition of width \\( k \\) k exists without knowledge of the treewidth is also NP Hard.\n          Although for a small constant \\( k \\) it is possible to find a tree decomposition in linear time. (<a href="https://epubs.siam.org/doi/10.1137/S0097539793251219">Bodlaender 1996</a>)\n          </p>         \n\n          <p>If you want to know more of the construction of tree decompositions the Chapter 10.5 in <a href="https://www.pearson.com/us/higher-education/program/Kleinberg-Algorithm-Design/PGM319216.html"\n          >Algorithm Design</a> is a good place to start.</p>\n\n          <p>We use a Java library called <a href="https://github.com/maxbannach/Jdrasil">Jdrasil</a> to compute tree decompositions.\n          The algorithm used in the library to obtain an exact tree decomposition is a mix of several known tree decomposition solvers.\n          </p>\n\n          <p>You can read more in their paper: <a href="https://drops.dagstuhl.de/opus/volltexte/2017/7605/pdf/LIPIcs-SEA-2017-28.pdf">Jdrasil: A Modular Library for Computing Tree Decompositions</a>.</p>\n          '),(n=new t.default("graph-container")).loadGraph(o.graph1),e.next=5,n.computeTreeDecomposition();case 5:return e.next=7,n.readTreeDecomposition();case 7:r=n.getTreeDecomposition(),new t.default("tree-container").loadGraph(r,"tree",n);case 10:case"end":return e.stop()}},e)})),"chapter2"),new e.default(h(regeneratorRuntime.mark(function e(){var r,o,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.sidebar.addContent('\n          <p>Algorithms that exploit tree decompositions are often represented using a "nice tree decomposition".</p>\n\n          <p><strong>Definition:</strong> A tree decomposition \\( (X,T) \\) where \\( X = (X_1,...,X_l) \\) is refered to as a nice tree decomposition if:</p>\n            <ul>\n              <li>Has all the properties of a tree decomposition</li>\n              <li>The tree \\( T\\) is <strong>rooted</strong></li>\n              <li>Every node of \\( T \\) has at most 2 children</li>\n              <p>Every node of \\( T \\) must be one of the following types:</p>\n              <li><strong><span class="leaf">Leaf node:<span></strong> \\( i \\)  is a leaf in \\( T \\) then \\( |X_i|\\) \\( \\leq \\) 1</li>\n              <li><strong><span class="join">& Join node:</span></strong>  \\( i \\) has two children \\( j \\) and \\( k \\), then \\( X_i = X_j = X_k \\)</li>\n              <li><strong><span class="introduce">+ Introduce node:</span></strong>  \\( i \\) has 1 child \\( j \\), then \\( X_i = X_j \\cup \\{ v \\} \\) for a vertex \\( \\{ v \\} \\)</li>\n              <li><strong><span class="forget">- Forget node:</span></strong> \\( i \\) has 1 child \\( j \\), then \\( X_i = X_j - \\{ v \\} \\) for a vertex \\( \\{ v \\} \\)</li>\n            </ul>\n\n            <p>On the right you see a nice tree decompostion of the current graph.</P>\n            \n            <p>Each node type of the tree is a different color and has a diffrent symbol to make it easier to tell the difference.</p>\n\n            <p>Spend some time getting familiar with the difference between the nodes. As we will be refering them a lot in the coming sections.</p>\n          '),window.graphContainer||window.treeContainer||(r=d3.select("#container").append("div").attr("id","graph-container"),o=d3.select("#container").append("div").attr("id","tree-container"),window.graphContainer=r,window.treeContainer=o),a=new t.default("graph-container"),c.graph=a,c.graph.randomGraph(),e.next=7,c.graph.computeTreeDecomposition();case 7:return e.next=9,c.graph.readNiceTreeDecomposition();case 9:i=c.graph.getNiceTreeDecomposition(),s=new n.default("tree-container"),c.treeDecomposition=s,c.treeDecomposition.load(i),c.treeDecomposition.setGraph(c.graph);case 14:case"end":return e.stop()}},e)})),"chapter3"),new e.default(h(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.sidebar.addContent("\n            <p>We now introduce how algorithms exploit these tree decompositions.</p>\n\n            <p>Most algorithms that run on tree decompositions use a <strong>bottom-up</strong> approach combined with <strong>dynamic programming</strong>.</p>\n            \n            <p>For each node in the tree decomposition we store some information in classical dynamic programming table. What we store in this table depends on the algorithm we are running and what type of node it is.</p>\n\n            <p>The important part is that we store relatively little information at each node because we have 'split' up the graph into subgraphs by the properties of a tree decomposition.</p>\n\n            <p>We will start with a refresher on how <strong>dynamic programming</strong> works on \"normal\" trees.</p>\n          ");case 1:case"end":return e.stop()}},e)})),"chapter4"),new e.default(h(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.graph&&c.graph.clear(),t=new n.default("container","normal-tree"),c.tree=t,c.tree.setMisNormalTree(),r={id:1,label:1,children:[{id:2,label:2,children:[{id:5,label:5,children:[{id:10,label:10}]},{id:7,label:7,children:[{id:8,label:8}]}]},{id:3,label:3,children:[{id:4,label:4,children:[{id:9,label:9}]},{id:6,label:6}]}]},c.tree.load(r,"normal-tree"),c.tree.addTooltip(),c.tree.addArrow(),c.sidebar.addContent("\n          <p>Lets now look at how the <strong>Maximum Independent Set</strong> problem works on a tree.</p>\n          \n          <p>Using dynamic programming we can traverse the tree bottom-up and keep track of the 'state' of each node in the tree.</p>\n\n          <p>This way we are creating partial solutions throughout the algorithm, which is very efficient because we will only need to store and calculate very little data in each partial solution.</p>\n\n          <p>The algorithm works as follow:</p>\n\n          <p>\n          <strong>Input:</strong> A tree.\n          <br>\n          <strong>Output:</strong> Maximum Independent Set of the tree.\n          </p>\n          <h3>Step 1:</h3>\n          <p>Start by performing a post-order (bottom-up) traversal of the tree.</p>\n          <h3>Step 2:</h3>\n\n          <p>We just need to take care of a few cases here:</p>\n          <ul>\n            <li>If the current node is a <strong>leaf</strong> we know it has no children so we set the maximum independent set to be 1.</li>\n            <li>For every other node we keep to rows in the table <strong>Max Set Incl</strong> which includes the current node so it cannot include its direct children but it can include the grandchildren.</li>\n            <li>The other entry is <strong>Max Set Excl</strong> which means we do not include the current node so we can include its direct children.</li>\n          </ul>\n\n          <p>Then we simply get the bigger of Max Set Incl or Max Set Excl for each subsolution</p>\n          <h3>Step 3:</h3>\n          <p>Get the bigger entry in the table of the root node to get the maximum independent set of the entire tree.</p>\n          \n          <p>Try going through the algorithm step by step to see how it works. The running time is \\( O(n) \\) as we only have to visit each tree node once.</p>\n"),renderMathInElement(document.body),c.tree.setAllNodes(),c.sidebar.addButton("Next Step",function(){return t.nextStep()}),c.sidebar.addButton("Previous Step",function(){return t.previousStep()});case 13:case"end":return e.stop()}},e)})),"chapter4"),new e.default(h(regeneratorRuntime.mark(function e(){var r,a,i,s,p,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return window.graphContainer||window.treeContainer||(r=d3.select("#container").append("div").attr("id","graph-container"),a=d3.select("#container").append("div").attr("id","tree-container"),window.graphContainer=r,window.treeContainer=a),c.sidebar.addContent("\n          <p>The first algorithm we will consider is an algorithm to find the Maximum Indpependent Set of a graph \\( G \\) given its nice tree decomposition with width \\( k \\).</p>\n\n          <p>Before explaining the algorithm lets introduce some notation that we will use from now on.</p>\n\n          <p>Consider any bag in the nice tree decompostion \\( i,...,l \\) let \\( G_i = (V_i,E_i) \\) be the induced subgraph of all vertices in the bags of the descendants of bag \\( i \\) in \\( T \\)</p>\n\n          <p>For each node \\( i \\) we will compute a table \\( C_i \\)</p>\n\n          <p>Each row in the table \\( C_i \\) consists of a subset \\( S \\subseteq X_i \\) in the first column and the size of the maximum independent set of that set in the second column. </p>\n          \n          <p>If a subset \\( S \\subseteq X_i \\) breaks the independence property, that is some vertices in the set is neighboring each other we omit this entry from the table.</p>\n\n          <p>Let's now describe the algorithm.</p>\n\n\n          <section>\n          <p><strong>Input:</strong> A nice tree decomposition of graph \\( G \\)</p>\n          <p><strong>Output:</strong> The size of the Maximum Independent Set of \\( G \\)</p>\n          </section>\n\n          <p><strong>Step 1:</strong> Perform a post-order (bottom-up) traversal of the tree.</p>\n\n          <p><strong>Step 2:</strong> Compute the table \\( C_i \\) for each node \\( i \\), depending on the type of node do the following:</p>\n  \n\n              <p>If we hit a <strong>leaf node</strong> \\( i \\) with \\( X_i\\) \\( \\leq 1 \\)</p>\n              <p>\\( C_i(Ø) = 0 \\)</p>\n              <p>\\( C_i( \\{ v \\} ) = 1 \\)</p>\n              <p>That is we only consider two scenarios: either it has 0 vertices or exactly 1 vertex.</p>\n              <p>The empty set does not contain a MIS, thus we set the entry to 0. \n              If the leaf contains a vertex then the size of the MIS is exactly 1, recall that the induced subgraph of a leaf consits of exactly 1 vertex.</p>\n\n              <p>If we hit a <strong>forget node</strong> \\( i \\) with child \\( j \\), then \\( X_i = X_j \\setminus \\{ v \\} \\) and \\( S \\subseteq X_i \\)</p>\n              <p>\\( C_i(S) = max \\{ C_j(S), C_j( S \\cup \\{ v \\} ) \\} \\)</p>\n              <p>We check if the sets of \\( X_i \\) is bigger with the forgotten vertex or without it and then keep the bigger one.</p>\n      \n              \n              <p>If we hit a <strong>join node</strong> \\( i \\) with 2 children \\( j_1 \\) and \\( j_ 2 \\), then \\( X_i = X_{j_1} = X_{j_2} \\) and \\( S \\subseteq X_i \\)</p>\n              <p>\\( C_i(S) = C_{j_1}(S) + C_{j_2}(S) - |S| \\)</p>\n              <p>As \\( X_i \\), \\(X_{j_1} \\) and \\( X_{j_2} \\) all contain the same vertices and recalling the coherence property of \n              tree decompositions we can see that the the vertices in \\( X_i \\) is the intersection of the nodes in the 2 subtrees. We can then add the table entries from the children nodes' table and substract the ones we counted twice./p>\n     \n\n              <p>If we hit a <strong>introduce node</strong> with child \\( j \\), then \\( X_i = X_j \\cup \\{ v \\} \\) and \\( S \\subseteq X_j \\)</p>\n              <p>\\( C_i(S) = C_j(S)\\)</p>\n             <p>\n             $$\n             C_i(S \\cup \\{ v \\} ) = \\begin{cases}\n             −∞ & \\text{if } \\exists w \\in S : \\{ v,w \\} \\in E \\\\\n             C_j(S) + 1 & \\text{else } \n            \\end{cases}\n             $$\n             </p>\n             <p>To compute the table of an introduce node we take over all the child node \\( X_j \\) table's entries. If a \\( v \\in S \\) we test if there are any \n             vertices in the set that are adjacent and if so we know it is not an independent set and we set the value to be minus infinity. If it is not adjacent we add 1 to the existing entry.</p>\n\n          <p><strong>Step 3:</strong></p> Lastly we return the largest independent set in the table \\( C_r \\) of the root node.\n\n          <h2>Complexity</h2>\n          <p>Using post-order traversal we visit each node exactly once which takes time \\( O(n) \\).</p>\n\n          <p>We assume treewidth \\( k \\). So the largest bag must contain \\( k + 1 \\) vertices. Which means we need to compute at most \\( 2^{k+1} \\) rows for every table \\( C_i \\).\n          Therefor the running time of this algorithm is \\( O(2^{k+1} n) \\).</p>\n\n          <p>In conclusion, for graphs with bounded treewidth we can find the maximum independent set in linear time as:\n            <ul>\n              <li>We can compute a tree decomposition in linear time</li>\n              <li>Transform it into a nice tree decomposition in linear time</li>\n              <li>Run the algorithm in linear time</li>\n            </ul>\n          </p>\n\n          <p>Step through the algorithm by using the b\n         "),i=new t.default("graph-container"),s=new n.default("tree-container"),i.loadGraph(o.graph1),e.next=7,i.computeTreeDecomposition();case 7:return e.next=9,i.readNiceTreeDecomposition();case 9:p=i.getNiceTreeDecomposition(),s.load(p),s.setGraph(i),s.enableMaximumIndependentSet(),c.sidebar.addButton("Max Independent Set",function(){return s.mis()}),(d=d3.select("#output").append("div").attr("class","controls-container")).append("span").text("keyboard_arrow_left").attr("class","material-icons nav-arrows").on("click",function(){return s.previous()}),d.append("span").text("keyboard_arrow_right").attr("class","material-icons nav-arrows").on("click",function(){return s.next()});case 17:case"end":return e.stop()}},e)})),"chapter4"),new e.default(h(regeneratorRuntime.mark(function e(){var r,a,i,s,p,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.sidebar.addContent("\n          <h2>3-Colorable Algorithm:</h2>\n\n          <p>We say that a graph \\( G \\) is \\( k-colorable \\) if we can color the vertices with \\( k \\) colors such that no two adjacent vertices has the same color.</p>\n\n          <p>For illustration purposes we will consider the example of 3-colorable.</p>\n\n          <section class=\"inout\">\n          <p><strong>Input:</strong> A nice tree decomposition of graph \\( G \\)</p>\n          <p><strong>Output:</strong> If \\( G \\) is 3-colorable</p>\n          </section>\n\n          <p>\n            \\( X_i \\) vertices appearing in the bag \\( x\\).\n            <br>\n            \\( V_x \\) vertices of the subtree rooted at bag \\( x \\).\n          </p>\n\n          <p>\n            For every bag \\( x \\) and coloring \\( c : X_i  →  \\{ 1,2,3 \\} \\) we define the table \\( A[i,c] \\) to be true if there exists a 3-coloring of \\( V_x \\).\n          <p>\n\n          <p><strong>Step 1:</strong> Perform a post-order traversel of the nice tree decomposition.</p>\n\n          <p><strong>Step 2:</strong></p>\n\n          <p><strong>Leaf node:</strong> As a leaf node \\( X_i \\) contains at most 1 vertex. There are only 3 possible states for the vertex \\( \\{ v \\} → \\{ 1,2,3 \\} \\).</p>\n\n          <p>\n            <strong>Introduce node</strong> \\( i \\) with child \\( j \\) with \\( X_i = X_j \\cup \\{ v \\} \\) for some vertex \\( v \\).\n            <br>\n            If \\( c(v) \\neq c(w) \\) for every adjacent \\( w \\) of \\( v \\)\n            <br>\n            then \\( A[i,c] = A[j,c'] \\) where \\( c' \\) is \\( c \\) restricted to \\( X_j \\)\n            <br>\n            That is, before we color an introduced node we check if any of its neighbors has the color we want to color it. If it does, we do not include it in the table.\n          </p>\n\n          <p>\n            <strong>Forget node</strong> \\( i \\) with 1 child \\( j \\) and \\( X_i = X_j \\setminus \\{ v \\} \\) and \\( S \\subseteq X_i \\)\n            <br>\n            \\( A[i,c] \\) is true if \\( A[j,c'] \\) is true for one of the extensions of \\( c \\) to \\( X_j \\).\n            <br>\n            In other words we compute all the possible ways to color \\( X_i \\) and for each coloring we check if it can extended to \\( X_j \\) with at least one of the possible colors.\n          </p>\n\n          <p>\n            <strong>Join node</strong> \\( i \\) with 2 children \\( j_1 \\) and \\( j_2 \\) \\( X_i  = X_{j_1} = X_{j_2} \\)\n            <br>\n            \\( A[i,c] = A[j_1,c] + A[j_2,c] \\)\n            <br>\n            Each independent subproblem must be consistent.\n          </p>\n\n          <p><strong>Step 3:</strong> To see if graph \\( G \\) is 3-colorable we look at the table of the root \\( A_r \\). If and only if it contains at least one true entry we know that graph \\( G \\)\n          is colorable, recall that the subgraph induced by the root is \\( G \\) including all vertices.</p>\n\n          <h2>Complexity</h2>\n          <p>The running time of performing a post-order traversal is \\( O(n) \\)</p>\n          <p>There are at most \\( 3^{k+1} \\) sub problems where \\( k\\) is treewidth. Thus, the running time is \\( O(3^{k+1}n) \\)</p>\n          \n          \n          "),window.graphContainer||window.treeContainer||(r=d3.select("#container").append("div").attr("id","graph-container"),a=d3.select("#container").append("div").attr("id","tree-container"),window.graphContainer=r,window.treeContainer=a),i=new t.default("graph-container"),s=new n.default("tree-container"),i.loadGraph(o.graph1),e.next=7,i.computeTreeDecomposition();case 7:return e.next=9,i.readNiceTreeDecomposition();case 9:p=i.getNiceTreeDecomposition(),s.load(p),s.setGraph(i),s.enableThreeColor(),(d=d3.select("#output").append("div").attr("class","controls-container")).append("span").text("keyboard_arrow_left").attr("class","material-icons nav-arrows").on("click",function(){return s.previous()}),d.append("span").text("keyboard_arrow_right").attr("class","material-icons nav-arrows").on("click",function(){return s.next()}),c.sidebar.addButton("3-Coloring",function(){return s.runThreeColor()});case 17:case"end":return e.stop()}},e)})),"chapter4"),new e.default(h(regeneratorRuntime.mark(function e(){var r,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.sidebar.addContent('\n          <h2>Hamiltonian Path</h2>\n\n          <p>\n            <strong>Input:</strong> A graph \\( G \\) and a nice tree decomposition \\( T \\)\n            <br>\n            <strong>Output:</strong> If \\( G \\) contains a Hamiltonian path.\n          </p>\n\n          <table id="dp-table" class="hamiltonianTable"></table>\n          '),c.addContainers(),r=new t.default("graph-container"),a=new n.default("tree-container"),r.loadGraph(o.graph1),e.next=7,r.computeTreeDecomposition();case 7:return e.next=9,r.readNiceTreeDecomposition();case 9:i=r.getNiceTreeDecomposition(),a.load(i),a.setGraph(r),a.enableHamiltonianPath(),c.addAlgorithmControls(function(){return a.previous()},function(){return a.next()});case 14:case"end":return e.stop()}},e)})),"chapter4")],this.sections=this.sections.filter(function(e){return e.chapter===c.currentChapter}),"chapter5"===this.currentChapter&&this.createCustomSection()}return g(i,[{key:"addAlgorithmControls",value:function(e,t){var n=d3.select("#output").append("div").attr("class","controls-container");n.append("span").text("keyboard_arrow_left").attr("class","material-icons nav-arrows").on("click",e),n.append("span").text("keyboard_arrow_right").attr("class","material-icons nav-arrows").on("click",t)}},{key:"addContainers",value:function(){if(!window.graphContainer&&!window.treeContainer){var e=d3.select("#container").append("div").attr("id","graph-container"),t=d3.select("#container").append("div").attr("id","tree-container");window.graphContainer=e,window.treeContainer=t}}},{key:"sectionFunctionBuilder",value:function(){var e=h(regeneratorRuntime.mark(function e(n){var r,o,a,i,c,p=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=s(n),e.prev=1,r.s();case 3:if((o=r.n()).done){e.next=18;break}if((a=o.value).startsWith("#create-graph")&&function(){var e=[],n=[],r=new Set,o=a.split(" ");o.shift();var i,c=s(o);try{for(c.s();!(i=c.n()).done;){var d=i.value,h=parseInt(d[0],10),l=parseInt(d[2],10);r.add(h),r.add(l);var u={source:h,target:l};n.push(u)}}catch(m){c.e(m)}finally{c.f()}r.forEach(function(t){var n={id:t};e.push(n)});var g={nodes:e,links:n},f=new t.default("graph-container");p.graph=f,f.loadGraph(g)}(),a.startsWith("#p")&&(i=a.replace("#p",""),this.sidebar.addContent(i),renderMathInElement(document.body)),!a.startsWith("#compute-tree-decomposition")){e.next=16;break}return a.replace("#compute-tree-decomposition",""),e.next=11,this.graph.computeTreeDecomposition();case 11:return e.next=13,this.graph.readTreeDecomposition();case 13:c=this.graph.getTreeDecomposition(),new t.default("tree-container").loadGraph(c,"tree",this.graph);case 16:e.next=3;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),r.e(e.t0);case 23:return e.prev=23,r.f(),e.finish(23);case 26:case"end":return e.stop()}},e,this,[[1,20,23,26]])}));return function(t){return e.apply(this,arguments)}}()},{key:"createCustomSection",value:function(){var e=h(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.readLocalFile)("./Chapters/content.txt");case 2:this.sectionFunctionBuilder(window.n),this.addSection(section);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addSection",value:function(e){this.sections.push(e),this.currentSection=e,this.createSection()}},{key:"createSection",value:function(){this.currentSection||(this.currentSection=this.sections[0]),d3.select(".nav").style("flex",.05),window.history.replaceState({},"","?");var e=new URLSearchParams(location.search);e.set("chapter",window.chapterHandler.chapters.indexOf(window.chapterHandler.currentChapter)+1),e.set("section",this.currentSectionIndex+1),e.toString(),window.history.replaceState({},"","?".concat(e.toString())),d3.select("#graph-container").selectAll("svg").remove(),d3.select("#tree-container").selectAll("svg").remove(),d3.select("#container").selectAll("svg").remove(),this.sidebar&&this.sidebar.clear(),this.tree&&this.tree.clear(),d3.select("#output").selectAll("*").remove(),d3.select("#tooltip").remove(),d3.select("#tooltip-arrow").remove(),d3.select("#tree1").remove(),d3.select("#tree2").remove(),d3.select("#tree3").remove(),this.sections.map(function(e){return e.isActive=!1}),this.currentSection.isActive=!0,this.currentSection.create(),this.sidebar.updateProgressBar()}},{key:"goPreviousSection",value:function(){0!==this.currentSectionIndex&&(this.currentSectionIndex--,this.currentSection=this.sections[this.currentSectionIndex],this.createSection())}},{key:"goNextSection",value:function(){this.currentSectionIndex!==this.sections.length-1&&(this.currentSectionIndex++,this.currentSection=this.sections[this.currentSectionIndex],this.createSection())}},{key:"goToSection",value:function(e){this.currentSection=e,this.currentSectionIndex=this.sections.indexOf(e),this.createSection()}},{key:"loadFirstSection",value:function(){this.currentSection=this.sections[0],this.createSection()}}]),i}();exports.default=f;
},{"../Components/Section.js":"aBeB","../Components/Graph.js":"MGpL","../Components/Tree.js":"F6Pa","../Components/TreeDecomposition.js":"N1Qw","../Utilities/graphs.js":"ZtE3","../Utilities/helpers.js":"jR25"}],"jW0i":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Chapter=_interopRequireDefault(require("../Components/Chapter.js")),_Sidebar=_interopRequireDefault(require("../Components/Sidebar.js")),_SectionHandler=_interopRequireDefault(require("./SectionHandler.js")),_Graph=_interopRequireDefault(require("../Components/Graph.js")),_Tree=_interopRequireDefault(require("../Components/Tree.js")),_TreeDecomposition=_interopRequireDefault(require("../Components/TreeDecomposition.js")),_helpers=require("../Utilities/helpers.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function asyncGeneratorStep(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(d){return void n(d)}i.done?t(c):Promise.resolve(c).then(r,a)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function s(e){asyncGeneratorStep(o,r,a,s,i,"next",e)}function i(e){asyncGeneratorStep(o,r,a,s,i,"throw",e)}s(void 0)})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var ChapterHandler=function(){function ChapterHandler(){var _this=this;_classCallCheck(this,ChapterHandler),this.currentChapter=1,this.chapters=[new _Chapter.default(_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),"1. Graph Separators",!1),new _Chapter.default(_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:d3.select("#container").append("div").attr("id","graph-container"),d3.select("#container").append("div").attr("id","tree-container");case 2:case"end":return e.stop()}},e)})),"2. Treewidth & Tree Decompositions",!1),new _Chapter.default(_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),"3. Nice Tree Decompositions",!1),new _Chapter.default(_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),"4. Algorithms on Tree Decompositions",!1),new _Chapter.default(_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:d3.select("#container").append("div").attr("id","graph-container"),d3.select("#container").append("div").attr("id","tree-container");case 2:case"end":return e.stop()}},e)})),"5. Misc",!1),new _Chapter.default(_asyncToGenerator(regeneratorRuntime.mark(function _callee6(){var sandboxSidebarContainer,sandboxSidebar,sandboxAppContainer,rightSide,graph,niceTreeDecomposition,niceTdData,editor,someString,formattedJSON,root,userInput,current,customFunction,misButtonContainer,controls,controlsContainer;return regeneratorRuntime.wrap(function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return sandboxSidebarContainer=d3.select("#main").append("div").attr("class","custom-algorithm-sidebar-container"),sandboxSidebar=sandboxSidebarContainer.append("div").attr("class","custom-sidebar"),sandboxSidebar.append("h2").text("Create a custom algorithm").style("margin","5px").style("text-align","center").append("hr").style("margin-bottom","0"),sandboxAppContainer=d3.select("#main").append("div").attr("class","custom-algorithm-app-container"),sandboxAppContainer.append("div").attr("class","left-side").attr("id","left-side"),rightSide=sandboxAppContainer.append("div").attr("class","right-side").attr("id","right-side"),rightSide.append("div").attr("id","sandbox-nice-tree-decomposition"),graph=new _Graph.default("left-side"),graph.randomGraph(),niceTreeDecomposition=new _Tree.default("sandbox-nice-tree-decomposition"),_context6.next=12,graph.computeTreeDecomposition();case 12:return _context6.next=14,graph.readNiceTreeDecomposition();case 14:niceTdData=graph.getNiceTreeDecomposition(),niceTreeDecomposition.load(niceTdData),niceTreeDecomposition.addTooltip(),niceTreeDecomposition.addArrow(),sandboxSidebar.append("text").html('\n              <p>Here you can create a custom algorithm that runs on a nice tree decomposition.</p>\n\n              <p>Currently the only supported language is JavaScript.</p>\n\n              <p>The algorithm performs a post-order traversel of the tree, you just need to specify what you want to happen at each specific node type.</p>\n\n              <p>Once you\'ve written some code save it and run through it by using the controls under the nice tree decomposition to step through your algorithm.\n              You may use your own custom JavaScript code or make use of our existing library functions which you can see <a target="_blank" href="https://github.com/FrederikJorgensen/graph-width-visualizer#custom-algorithm">here</a>.</p>\n            ').style("padding","0 15px 0 15px"),sandboxSidebar.append("textarea").attr("id","editor").text('switch(type){\n case "leaf":\n //Your code for a leaf node.\n break;\n\n case "introduce":\n // Your code for an introduce node.\n break;\n\n case "forget":\n //Your code for a forget node.\n break;\n\n case "join":\n // Your code for a join node.\n break;\n}'),editor=CodeMirror.fromTextArea(document.getElementById("editor"),{value:"function myScript(){return 100;}\n",mode:"javascript",theme:"monokai",lineNumbers:!0,autoCloseBrackets:!0}),editor.setSize("100%","100%"),someString='\n          switch(type){ \n          case "leaf":\n            // By definition we know that leaf nodes are empty.\n            node.table[\'\'] = 0;\n            break;\n\n          case "introduce":\n            // Set all the entries of this table to be the same as the child\'s\n            node.table = childTable;\n\n            // Get the introduced vertex\n            const introducedVertex = niceTreeDecomposition.getIntroducedVertex(node);\n\n            for (const set of allSubsets) {\n              // We only care about the subsets containing the introduced vertex v\n              if (set.includes(introducedVertex)) {\n                /* Check if a vertex inside this set is adjacent to the introduced vertex */\n                const setWithoutV = set.filter((s) => s !== introducedVertex);\n    \n                if (graph.isVertexAdjacent(subTree, set)) {\n                  // If the vertex is adjacent to another vertex in the set, we set the value to be -9999\n                  node.table[set] = -9999;\n                } else {\n                  // If not we increment the value of the child table\n                  let oldValue = childTable[setWithoutV];\n                  oldValue++;\n                  node.table[set] = oldValue;\n                }\n              }\n            }\n            break;\n\n          case "forget":\n            // Get the forgotten vertex.\n            const forgottenVertex = niceTreeDecomposition.getForgottenVertex(node);\n\n            for (const set of allSubsets) {\n              /* Union the forgottenVertex with the current subset */\n              const concatV = set.concat(forgottenVertex);\n              concatV.sort();\n    \n              /* Value of set without v */\n              const setWithoutV = childTable[set];\n    \n              /* Value of set with v */\n              const setWithV = childTable[concatV];\n    \n              if (setWithoutV > setWithV) {\n                node.table[set] = setWithoutV;\n              } else {\n                node.table[set] = setWithV;\n              }\n            }\n\n            break;\n\n          case "join":\n            // Get child 2\'s table\n            const child2Table = niceTreeDecomposition.getChild2Table(node);\n\n            for (const set of allSubsets) {\n              const child1value = childTable[set];\n              const child2value = child2Table[set];\n              const currentNodeValue = set.length;\n              node.table[set] = child1value + child2value - currentNodeValue;\n            }\n\n            break;\n          }',formattedJSON=js_beautify(someString,{indent_size:2}),root=niceTreeDecomposition.getRoot(),userInput="",current=0,customFunction="",misButtonContainer=sandboxSidebar.append("div").attr("class","custom-container"),misButtonContainer.append("button").text("Save Code").attr("class","pure-material-button-contained").on("click",function(){userInput=editor.getValue(),customFunction="\n          let i = 1;\n          \n          root.eachAfter((currentNode) => {\n            if (current !== i++) return;\n\n            niceTreeDecomposition.animateNode(currentNode);\n            niceTreeDecomposition.animateLink(currentNode);\n\n            const node = currentNode.data;\n\n            node.table = {};\n\n            let childTable;\n\n            if ('children' in node) {\n              childTable = niceTreeDecomposition.getChildTable(node);\n            }\n\n            const subTree = niceTreeDecomposition.getSubTree(root, node)\n            \n            const allSubsets = getAllSubsets(node.vertices);\n            allSubsets.map((s) => s.sort());\n\n            let type = '';\n\n            if ('children' in node === false) type = 'leaf';\n            else if (node.children.length === 2) type = 'join';\n            else if (node.vertices.length > node.children[0].vertices.length) type = 'introduce';\n            else if (node.vertices.length < node.children[0].vertices.length) type = 'forget';\n\n            ".concat(userInput,"\n\n            console.log(node.table);\n\n            niceTreeDecomposition.drawTable(node);\n\n          })")}),misButtonContainer.append("button").text("Reset to default code").attr("class","pure-material-button-contained").on("click",function(){return editor.setValue('switch(type){\n case "leaf":\n //Your code for a leaf node.\n break;\n\n case "introduce":\n // Your code for an introduce node.\n break;\n\n case "forget":\n //Your code for a forget node.\n break;\n\n case "join":\n // Your code for a join node.\n break;\n}')}),misButtonContainer.append("button").text("Show Max Independent Set Code").attr("class","pure-material-button-contained").on("click",function(){return editor.setValue(formattedJSON)}),controls=rightSide.append("div").attr("id","controls"),controlsContainer=controls.append("div").attr("class","controls-container"),controlsContainer.append("span").text("keyboard_arrow_left").attr("class","material-icons nav-arrows").on("click",function(){if(0!==current){var N=root.descendants().length;--current,current%=N,eval(customFunction)}}),controlsContainer.append("span").text("keyboard_arrow_right").attr("class","material-icons nav-arrows").on("click",function(){var N=root.descendants().length;current++,current!==N&&(current%=N),eval(customFunction)}),renderMathInElement(document.body);case 37:case"end":return _context6.stop()}},_callee6)})),"7. Create Custom Algorithm"),new _Chapter.default(_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,r,a,o,s,i,c,d,l,u,p,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!1,n=!1,!1,r=new _Graph.default("sandbox-graph"),a=new _Graph.default("sandbox-tree-decomposition"),o=new _Tree.default("sandbox-nice-tree-decomposition","nice",r),s=new _TreeDecomposition.default("sandbox-tree-decomposition",r),i=d3.select("#main").append("div").attr("class","sandbox-sidebar-container"),(c=i.append("div").attr("class","sandbox-sidebar")).append("text").text("Vertices: ").append("span").attr("id","v").text("10"),c.append("input").attr("id","vertices-slider").attr("type","range").attr("min",0).attr("max",100).attr("step","any").attr("step","1").attr("value",10).attr("class","slider").on("input",function(){var e=document.getElementById("vertices-slider").value;d3.select("#v").text(e)}),c.append("text").text("Edges:     ").append("span").attr("id","e").text("10"),c.append("input").attr("id","edges-slider").attr("type","range").attr("min",0).attr("max",100).attr("step","any").attr("step","1").attr("value",10).attr("class","slider").on("input",function(){var e=document.getElementById("edges-slider").value;d3.select("#e").text(e)}),c.append("span").text("replay").attr("class","material-icons").on("click",function(){a.svg&&a.clear(),o.svg&&o.clear();var e=document.getElementById("vertices-slider").value,n=document.getElementById("edges-slider").value;r.randomGraph(e,n),d3.select("#compute-td-button").classed("sandbox-button",!0),d3.select("#compute-td-button").classed("sandbox-button-disabled",!1),d3.select("#draw-td-button").classed("sandbox-button",!0),d3.select("#draw-td-button").classed("sandbox-button-disabled",!1),t=!0}),c.append("span").text("palette").attr("class","material-icons").on("click",function(){r.enableDrawing(),t=!0,d3.select("#compute-td-button").classed("sandbox-button",!0),d3.select("#compute-td-button").classed("sandbox-button-disabled",!1),d3.select("#draw-td-button").classed("sandbox-button",!0),d3.select("#draw-td-button").classed("sandbox-button-disabled",!1)}),c.append("span").text("device_hub").attr("id","compute-td-button").attr("class","material-icons").on("click",_asyncToGenerator(regeneratorRuntime.mark(function e(){var s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return a.svg&&a.clear(),o.svg&&o.clear(),e.next=6,r.computeTreeDecomposition();case 6:return e.next=8,r.readTreeDecomposition();case 8:s=r.getTreeDecomposition(),a.loadGraph(s,"tree",r),d3.select("#compute-nicetd-button").classed("sandbox-button",!0),d3.select("#compute-nicetd-button").classed("sandbox-button-disabled",!1),n=!0;case 13:case"end":return e.stop()}},e)}))),c.append("span").text("timeline").attr("id","compute-nicetd-button").attr("class","material-icons").on("click",_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return o.svg&&o.clear(),e.next=5,r.readNiceTreeDecomposition();case 5:t=r.getNiceTreeDecomposition(),o.load(t),!0,d3.select("#three-color-b").classed("sandbox-button",!0),d3.select("#three-color-b").classed("sandbox-button-disabled",!1),d3.select("#max-inde-b").classed("sandbox-button",!0),d3.select("#max-inde-b").classed("sandbox-button-disabled",!1);case 12:case"end":return e.stop()}},e)}))),c.append("span").text("clear").attr("class","material-icons").on("click",_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:_this.graph=d3.select("#algo-text").text("Current Algorithm = None Selected"),d3.select("#compute-td-button").classed("sandbox-button",!1),d3.select("#compute-td-button").classed("sandbox-button-disabled",!0),d3.select("#compute-nicetd-button").classed("sandbox-button",!1),d3.select("#compute-nicetd-button").classed("sandbox-button-disabled",!0),d3.select("#three-color-b").classed("sandbox-button",!1),d3.select("#three-color-b").classed("sandbox-button-disabled",!0),r.svg&&r.clear(),s&&s.clear(),d3.select("#output").html(null),a.svg&&a.clear(),o.svg&&o.clear(),o.colorTable&&o.removeColorTable(),o.tooltip&&o.removeMisTable(),t=!1,n=!1,!1;case 17:case"end":return e.stop()}},e)}))),d=d3.select("#main").append("div").attr("class","sandbox-app-container"),l=d.append("div").attr("class","left-side"),u=d.append("div").attr("class","right-side"),l.append("div").attr("id","sandbox-graph").append("text").text("Graph").attr("class","container-text"),l.append("div").attr("id","sandbox-tree-decomposition").append("text").text("Tree Decomposition").attr("class","container-text"),l.append("div").attr("id","output"),u.append("div").attr("id","sandbox-nice-tree-decomposition").append("text").text("Nice Tree Decomposition").attr("class","container-text"),(p=u.append("div").attr("id","controls")).append("h3").attr("id","algo-text").text("Current Algorithm = None Selected"),(h=p.append("div").attr("class","controls-container")).append("span").text("keyboard_arrow_left").attr("class","material-icons nav-arrows").on("click",function(){return o.previous()}),h.append("span").text("keyboard_arrow_right").attr("class","material-icons nav-arrows").on("click",function(){return o.next()});case 30:case"end":return e.stop()}},e)})),"6. Sandbox")]}return _createClass(ChapterHandler,[{key:"startFirstLevel",value:function(){d3.select("#main").style("flex",.95),d3.select(".nav").style("flex",.05),this.currentChapter=this.chapters[0],this.createChapter()}},{key:"goToChapter",value:function(e,t,n){if(t){d3.select(".nav").style("flex",.05),d3.select("#custom-algorithm-button").style("color","#6d7e8e"),window.history.replaceState({},"","?"),d3.select("#main").selectAll("*").remove(),window.history.replaceState({},"","");var r=new URLSearchParams(location.search);return r.set("sandbox","true"),window.history.replaceState({},"","?".concat(r.toString())),e.create(),void d3.select("#main").append("div").style("position","absolute").style("z-index",20).style("bottom","10px").style("right","10px").append("a").attr("href","https://icons8.com/icon/41215/graph-clique").text("Icon by Icons8")}if(n){d3.select(".nav").style("flex",.05),d3.select("#main").selectAll("*").remove(),d3.select("#sandbox-button").style("color","#6d7e8e"),d3.select("#custom-algorithm-button").style("color","#1f1f1f"),window.history.replaceState({},"","?"),window.history.replaceState({},"","");var a=new URLSearchParams(location.search);return a.set("custom","true"),window.history.replaceState({},"","?".concat(a.toString())),void e.create()}d3.select("#sandbox-button").style("color","#6d7e8e"),this.currentChapter=e,this.createChapter()}},{key:"createChapter",value:function(){d3.select("#main").selectAll("*").remove(),d3.select("#main").append("div").style("position","absolute").style("z-index",20).style("bottom","10px").style("right","10px").append("a").attr("href","https://icons8.com/icon/41215/graph-clique").text("Icon by Icons8"),window.graphContainer=null,window.treeContainer=null,d3.select("#main").append("div").attr("id","center-container");var e=new _Sidebar.default(this.currentChapter.name);d3.select("#center-container").append("div").attr("id","app-area"),d3.select("#app-area").append("div").attr("id","container"),d3.select("#app-area").append("div").attr("id","output"),this.currentChapter.create();var t=new URLSearchParams(location.search),n=t.get("section")-1,r=this.chapters.indexOf(this.currentChapter)+1,a="chapter".concat(r),o=new _SectionHandler.default(e,a);this.sectionHandler=o;var s=this.sectionHandler.sections[n];t.get("section")>0&&n<o.sections.length?o.goToSection(s):o.loadFirstSection(),e.addHandler(o),e.addProgresBar(),this.chapters.map(function(e){return e.isActive=!1}),this.currentChapter.isActive=!0}}]),ChapterHandler}();exports.default=ChapterHandler;
},{"../Components/Chapter.js":"GPV5","../Components/Sidebar.js":"QKq2","./SectionHandler.js":"mXxD","../Components/Graph.js":"MGpL","../Components/Tree.js":"F6Pa","../Components/TreeDecomposition.js":"N1Qw","../Utilities/helpers.js":"jR25"}],"VMly":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(){function e(){t(this,e),this.chapterHandler=window.chapterHandler}return a(e,[{key:"show",value:function(){var t=this,e=this.chapterHandler.chapters.concat(),a=document.getElementById("body").offsetWidth,n=document.getElementById("body").offsetHeight;this.overlay=d3.select("body").append("div").attr("class","overlay").attr("id","overlay").style("height","".concat(n,"px")).style("width","".concat(a,"px")),this.container=this.overlay.append("div").attr("class","roadmap-container"),this.close=this.container.append("span").attr("class","material-icons roadmap-close").text("close").on("click",function(){return t.toggle()}),this.container.append("text").attr("class","roadmap-title").text("Chapters").append("hr").style("background-color","rgb(51, 51, 51)"),this.roadmapChapters=this.container.append("div").attr("class","roadmap-chapters"),this.roadmapChapters.selectAll("text").data(e).join(function(e){return e.append("text").text(function(t){return t.name}).attr("class",function(t){return t.isActive?"roadmap-item-active":"roadmap-item"}).on("click",function(e){t.visible=!1,t.hide(),t.chapterHandler.goToChapter(e)})},function(t){return t},function(t){return t.remove()})}},{key:"hide",value:function(){this.overlay.remove(),this.container.remove()}},{key:"toggle",value:function(){this.visible?(d3.select("#chapter-button").style("color","#6d7e8e"),this.visible=!1,this.hide()):(d3.select("#chapter-button").style("color","#1f1f1f"),this.visible=!0,this.show())}}]),e}();exports.default=n;
},{}],"niua":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.height=exports.width=void 0;var e=r(require("./Handlers/ChapterHandler.js")),t=r(require("./Components/Roadmap.js")),n=r(require("./Utilities/helpers.js"));function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r,o,a,c){try{var i=e[a](c),s=i.value}catch(l){return void n(l)}i.done?t(s):Promise.resolve(s).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var c=e.apply(t,n);function i(e){o(c,r,a,i,s,"next",e)}function s(e){o(c,r,a,i,s,"throw",e)}i(void 0)})}}var c=new e.default;window.chapterHandler=c,d3.select(window).on("load",a(regeneratorRuntime.mark(function e(){var t,n,r,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=new URLSearchParams(location.search),n=t.has("chapter"),r=t.get("chapter")-1,o=t.has("sandbox"),a=t.has("custom"),o&&c.goToChapter(c.chapters[c.chapters.length-1],o),a&&c.goToChapter(c.chapters[c.chapters.length-2],o,a),n&&r<c.chapters.length&&(i=c.chapters[r],c.goToChapter(i,!1));case 8:case"end":return e.stop()}},e)})));var i=document.getElementById("main").offsetWidth;exports.width=i;var s=document.getElementById("main").offsetHeight;exports.height=s;var l=d3.scaleOrdinal(d3.schemeCategory10),d=new t.default,u=d3.select("#main").append("div").attr("class","logo-container");u.append("h1").text("GraphWidth.com").style("font-size","50px").style("margin",0).style("z-index",10).style("color","white"),u.append("h2").text("An interactive way to learn graph width measures.").style("color","white").style("opacity","85%").style("z-index","10").attr("class","subtitle"),u.append("button").text("Start Learning").attr("class","pure-material-button-contained").style("z-index","20").on("click",function(){return c.startFirstLevel()}),d3.select("#main").append("div").style("position","absolute").style("z-index",20).style("bottom","10px").style("right","10px").append("a").attr("href","https://icons8.com/icon/41215/graph-clique").text("Icon by Icons8"),d3.select("#chapter-button").on("click",function(){d.toggle()}),d3.select("#github-button").on("click",function(){window.open("https://github.com/FrederikJorgensen/graph-width-visualizer","_blank")}),d3.select("#sandbox-button").on("click",function(){d3.select("#chapter-button").style("color","#6d7e8e"),d3.select("#sandbox-button").style("color","#1f1f1f"),c.goToChapter(c.chapters[c.chapters.length-1],!0)}),d3.select("#custom-algorithm-button").on("click",function(){c.goToChapter(c.chapters[c.chapters.length-2],!1,!0)}),window.onclick=function(e){var t=document.getElementById("overlay");e.target===t&&d.toggle()},d3.select("body").on("keydown",function(){switch(event.key){case"Escape":d.toggle();break;case"ArrowLeft":window.sectionHandler&&window.sectionHandler.goPreviousSection();break;case"ArrowRight":window.sectionHandler&&window.sectionHandler.goNextSection()}}),d3.select("#main").style("background-color","#1F2125");var h=d3.select("#main").append("svg").attr("width",i).attr("height",s),p=(0,n.default)(10,10);h.selectAll("line").data(p.links).enter().append("line").style("stroke","lightgrey").style("stroke-width","2.5px"),h.selectAll("circle").data(p.nodes).enter().append("circle").style("fill",function(e){return l(e.id)}).attr("r",18);var g=d3.forceSimulation().force("x",d3.forceX(i/2).strength(.1)).force("y",d3.forceY(s/2).strength(.1)).nodes(p.nodes).force("charge",d3.forceManyBody().strength(-450)).force("link",d3.forceLink(p.links).id(function(e){return e.id}).strength(.3)).on("tick",function(){h.selectAll("circle").attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}),h.selectAll("line").attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y})});g.force("link").links(p.links);
},{"./Handlers/ChapterHandler.js":"jW0i","./Components/Roadmap.js":"VMly","./Utilities/helpers.js":"jR25"}]},{},["niua"], null)
//# sourceMappingURL=/controller.03783aec.js.map